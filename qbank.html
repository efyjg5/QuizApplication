<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title></title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alata&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alatsi&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Andika+New+Basic&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Atkinson+Hyperlegible&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Barlow&amp;display=swap">
	<link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600,800,900" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
	<script src="assets/js/jquery.min.js"></script>
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	<script src="assets/js/math.js"></script>
	<script type="text/javascript">
		$(document).ready( function () {
			
			var first_name = localStorage.getItem('first_name');
			var course_id = localStorage.getItem('course_id');
			var username = localStorage.getItem('username');
			
			if (first_name == null||course_id == null||username == null) {
				localStorage.clear();
				sessionStorage.clear();
				window.location.replace('login.html');
			}
			
			$('#loadingModal').modal('toggle');
			
			var qtype = "multi_choice";
			var total_question_no = 0;
			
			var question_number_memory = [];
			
			
			question_types = [];
			qlist_id = [];
			mc_questions_id = [];
			tf_questions_id = [];
			sa_questions_id = [];
			essay_questions_id = [];
			calc_questions_id = [];
			calc_multi_questions_id = [];
			mc_answers_id = [[],[]];
			
			async function get_questions() {
				
				const endpoint = '/data-api/rest/QuestionList_QBank';
				const response = await fetch(endpoint);
				const data = await response.json();
				
				if (data.value == '') {
					setTimeout(()=> {
						$('#loadingModal').modal('toggle');
					},500);
				} else {
					for (var i = 0; i < data.value.length; i++) { 
						if (data.value[i].course_id == course_id) {
							question_types[data.value[i].q_id-1] = data.value[i].q_type;
							qlist_id[data.value[i].q_id-1] = data.value[i].id;
						}
					}
					
					for (var i = 0; i < question_types.length; i++) {
						total_question_no += 1;
						question_number_memory.push(total_question_no);
						if (question_types[i] == "mc") {
							mc_answers_id[i] = [];
							$("#question_list").prepend('<div class="row" id="ques_list_item_'+(i+1)+'">'+
								'<input class="quest_type" type="hidden" value="multi_choice">'+
								'<div class="col ms-3 me-3 mt-2">'+
								'<hr style="color: #bbbbbb;">'+
								'<div class="row mt-4">'+
									'<div class="col-auto">'+
										'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
											'<div class="row mb-2">'+
												'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+(i+1)+'</span><span>'+
											'</div>'+
											'<div class="row">'+
												'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Multiple Choice<span>'+
											'</div>'+
											'<div class="row">'+
												'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<div class="col">'+
										'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
											'<div class="col-auto">'+
												'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
												'<input type="file" id="imageQues_'+(i+1)+'" style="display:none" accept="image/*">'+
												'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+(i+1)+"'"+').click()">Insert Image For Question</button>'+
												'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
											'</div>'+
											'<img id="dispImg_'+(i+1)+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
											'<label for="mc_question_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
											'<textarea class="form-control" id="mc_question_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
										'</div>'+
										'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
											'<div class="row">'+
												'<div class="col-auto">'+
													'<label for="mc_ans_1_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">1st Answer Choice</label>'+
												'</div>'+
												'<div class="col">'+
													'<div class="form-check">'+
													  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+(i+1)+'" id="mc_correct_ans_1_'+(i+1)+'" checked>'+
													  '<label class="form-check-label" for="mc_correct_ans_1_'+(i+1)+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+
														'Correct Answer'+
													  '</label>'+
													'</div>'+
												'</div>'+
											'</div>'+
											'<textarea class="form-control mb-3" id="mc_ans_1_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
											'<div class="row">'+
												'<div class="col-auto">'+
													'<label for="mc_ans_2_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">2nd Answer Choice</label>'+
												'</div>'+
												'<div class="col">'+
													'<div class="form-check">'+
													  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+(i+1)+'" id="mc_correct_ans_2_'+(i+1)+'">'+
													  '<label class="form-check-label" for="mc_correct_ans_2_'+(i+1)+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
														'Correct Answer'+
													  '</label>'+
													'</div>'+
												'</div>'+
											'</div>'+
											'<textarea class="form-control mb-3" id="mc_ans_2_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
											'<div class="row">'+
												'<div class="col-auto">'+
													'<label for="mc_ans_3_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">3rd Answer Choice</label>'+
												'</div>'+
												'<div class="col">'+
													'<div class="form-check">'+
													  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+(i+1)+'" id="mc_correct_ans_3_'+(i+1)+'">'+
													  '<label class="form-check-label" for="mc_correct_ans_3_'+(i+1)+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
														'Correct Answer'+
													  '</label>'+
													'</div>'+
												'</div>'+
											'</div>'+
											'<textarea class="form-control mb-3" id="mc_ans_3_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
											'<div class="row">'+
												'<div class="col-auto">'+
													'<label for="mc_ans_4_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">4th Answer Choice</label>'+
												'</div>'+
												'<div class="col">'+
													'<div class="form-check">'+
													  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+(i+1)+'" id="mc_correct_ans_4_'+(i+1)+'">'+
													  '<label class="form-check-label" for="mc_correct_ans_4_'+(i+1)+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
														'Correct Answer'+
													  '</label>'+
													'</div>'+
												'</div>'+
											'</div>'+
											'<textarea class="form-control" id="mc_ans_4_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
										'</div>'+
										'<div class="row ps-3 pt-4">'+
											'<div class="col-auto">'+
												'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+(i+1)+'">Export Question</button>'+
											'</div>'+
											'<div class="col">'+
											'</div>'+
											'<div class="col-auto">'+
												'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+(i+1)+'">Delete Question</button>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>');
						} else if (question_types[i] == "tf") {
							$("#question_list").prepend('<div class="row" id="ques_list_item_'+(i+1)+'">'+
							'<input class="quest_type" type="hidden" value="true_false">'+
							'<div class="col ms-3 me-3 mt-2">'+
								'<hr style="color: #bbbbbb;">'+
								'<div class="row mt-4">'+
									'<div class="col-auto">'+
										'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
											'<div class="row mb-2">'+
												'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+(i+1)+'</span><span></span></span>'+
											'</div>'+
											'<div class="row">'+
												'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">True/False<span></span></span>'+
											'</div>'+
											'<div class="row">'+
												'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<div class="col">'+
										'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
											'<div class="col-auto">'+
												'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
												'<input type="file" id="imageQues_'+(i+1)+'" style="display:none" accept="image/*">'+
												'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+(i+1)+"'"+').click()">Insert Image For Question</button>'+
												'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
											'</div>'+
											'<img id="dispImg_'+(i+1)+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
											'<label for="tf_question_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
											'<textarea class="form-control" id="tf_question_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
										'</div>'+
										'<div class="card shadow-none pt-3 pb-2 ps-4 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
											'<div class="row">'+
												'<div class="col-auto">'+
													'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">True</label>'+
												'</div>'+
												'<div class="col">'+
													'<div class="form-check">'+
														'<input class="form-check-input" type="radio" name="tf_correct_radio_'+(i+1)+'" id="tf_correct_ans_t_'+(i+1)+'" checked="">'+
														'<label class="form-check-label" for="tf_correct_ans_t_'+(i+1)+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Answer</label>'+
													'</div>'+
												'</div>'+
											'</div>'+
											'<div class="row">'+
												'<div class="col-auto">'+
													'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">False</label>'+
												'</div>'+
												'<div class="col">'+
													'<div class="form-check">'+
														'<input class="form-check-input" type="radio" name="tf_correct_radio_'+(i+1)+'" id="tf_correct_ans_f_'+(i+1)+'">'+
														'<label class="form-check-label" for="tf_correct_ans_f_'+(i+1)+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden="">Correct Answer</label>'+
													'</div>'+
												'</div>'+
											'</div>'+
										'</div>'+
										'<div class="row ps-3 pt-4">'+
											'<div class="col-auto">'+
												'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+(i+1)+'">Export Question</button>'+
											'</div>'+
											'<div class="col">'+
											'</div>'+
											'<div class="col-auto">'+
												'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+(i+1)+'">Delete Question</button>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>');
						} else if (question_types[i] == "sa") {
							$("#question_list").prepend('<div class="row" id="ques_list_item_'+(i+1)+'">'+
							'<input class="quest_type" type="hidden" value="short_ans">'+
							'<div class="col ms-3 me-3 mt-2">'+
								'<hr style="color: #bbbbbb;">'+
								'<div class="row mt-4">'+
									'<div class="col-auto">'+
										'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
											'<div class="row mb-2">'+
												'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+(i+1)+'</span><span></span></span>'+
											'</div>'+
											'<div class="row">'+
												'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Short Answer<span></span></span>'+
											'</div>'+
											'<div class="row">'+
												'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<div class="col">'+
											'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
											'<div class="col-auto">'+
												'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
												'<input type="file" id="imageQues_'+(i+1)+'" style="display:none" accept="image/*">'+
												'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+(i+1)+"'"+').click()">Insert Image For Question</button>'+
												'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
											'</div>'+
											'<img id="dispImg_'+(i+1)+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
											'<label for="sa_question_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
											'<textarea class="form-control" id="sa_question_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
										'</div>'+
										'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
											'<div class="row">'+
												'<div class="col-auto">'+
													'<label for="sa_ans_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Answer</label>'+
												'</div>'+
											'</div>'+
											'<textarea class="form-control mb-1" id="sa_ans_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
										'</div>'+
										'<div class="row ps-3 pt-4">'+
											'<div class="col-auto">'+
												'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+(i+1)+'">Export Question</button>'+
											'</div>'+
											'<div class="col">'+
											'</div>'+
											'<div class="col-auto">'+
												'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+(i+1)+'">Delete Question</button>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>');
						} else if (question_types[i] == "essay") {
							$("#question_list").prepend('<div class="row" id="ques_list_item_'+(i+1)+'">'+
							'<input class="quest_type" type="hidden" value="essay">'+
							'<div class="col ms-3 me-3 mt-2">'+
								'<hr style="color: #bbbbbb;">'+
								'<div class="row mt-4">'+
									'<div class="col-auto">'+
										'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
											'<div class="row mb-2">'+
												'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+(i+1)+'</span><span></span></span>'+
											'</div>'+
											'<div class="row">'+
												'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Essay<span></span></span>'+
											'</div>'+
											'<div class="row">'+
												'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<div class="col">'+
										'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
										'<div class="col-auto">'+
											'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
											'<input type="file" id="imageQues_'+(i+1)+'" style="display:none" accept="image/*">'+
											'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+(i+1)+"'"+').click()">Insert Image For Question</button>'+
											'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
										'</div>'+
											'<img id="dispImg_'+(i+1)+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
											'<label for="essay_question_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
											'<textarea class="form-control" id="essay_question_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
										'</div>'+
										'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
											'<div class="row">'+
												'<div class="col-auto">'+
													'<label for="essay_ans_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Keyword(s)</label>'+
												'</div>'+
											'</div>'+
											'<textarea class="form-control mb-2" id="essay_ans_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="2"></textarea>'+
											'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please separate each keyword with a "," symbol. 1 point will be divided by the number of keywords provided for each question.</span>'+
										'</div>'+
										'<div class="row ps-3 pt-4">'+
											'<div class="col-auto">'+
												'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+(i+1)+'">Export Question</button>'+
											'</div>'+
											'<div class="col">'+
											'</div>'+
											'<div class="col-auto">'+
												'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+(i+1)+'">Delete Question</button>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>');
						} else if (question_types[i] == "calc") {
							$("#question_list").prepend('<div class="row" id="ques_list_item_'+(i+1)+'">'+
							'<input class="quest_type" type="hidden" value="calc">'+
								'<div class="col ms-3 me-3 mt-2">'+
									'<hr style="color: #bbbbbb;">'+
									'<div class="row mt-4">'+
										'<div class="col-auto">'+
											'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
												'<div class="row mb-2">'+
													'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+(i+1)+'</span>'+
												'</div>'+
												'<div class="row">'+
													'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Calculated</span>'+
												'</div>'+
												'<div class="row">'+
													'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.</span>'+
												'</div>'+
											'</div>'+
										'</div>'+
										'<div class="col">'+
											'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
												'<div class="col-auto">'+
													'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
													'<input type="file" id="imageQues_'+(i+1)+'" style="display:none" accept="image/*">'+
													'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+(i+1)+"'"+').click()">Insert Image For Question</button>'+
													'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
												'</div>'+
													'<img id="dispImg_'+(i+1)+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please enter your formula.&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem; cursor: pointer;" title="LaTeX Commands"></i></label>'+
												'<div class="row mb-2">'+
													'<div class="col formula">'+
														'<textarea class="form-control formula" id="calc_formula_'+(i+1)+'"  style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="6"placeholder="For example:&#10;&#10;x = sqrt(b)/(3*a)"></textarea>'+
													'</div>'+
													'<div class="col">'+
														'<div class="card shadow-none pt-3 ps-3 pe-3 pb-0" style="height: 100%; border: 0px solid gray; background-color: rgba(0,85,151,1); border-radius: 0px; font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; color: white;">'+
															'Use this to verify if the formula entered is correct and matches the desired equation.'+
															'<span></span>'+
														'</div>'+
													'</div>'+
												'</div>'+
												'<div class="row mt-2">'+
													'<div class="col-6">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Input Value(s)</label>'+
														'<textarea class="form-control test_formula" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1" placeholder="For example: a=1, b=9"></textarea>'+
													'</div>'+
													'<div class="col-4">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Answer</label>'+
														'<textarea class="form-control" disabled style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px; color: gray;" rows="1"></textarea>'+
													'</div>'+
													'<div class="col-2">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;"><i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="Use this to test if the formula is working correctly."></i></label>'+
														'<br>'+
														'<button disabled class="btn test_button" type="button" style="background-color:green; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.85rem; border-radius: 0px; width: 100%;" id="test_button">Test Formula</button>'+
													'</div>'+
												'</div>'+
												'<hr style="color: #bbbbbb;">'+
												'<div class="row mb-2 var_row">'+
													'<div class="col-2">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Output Variable&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The variable of which the formula has to determine."></i></label>'+
														'<textarea class="form-control" id="calc_output_var_'+(i+1)+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1" placeholder="For example: x"></textarea>'+
													'</div>'+
													'<div class="col-3">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Input Variable(s)&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The variable(s) used in the formula to calculate the answer."></i></label>'+
														'<textarea class="form-control" id="calc_input_var_'+(i+1)+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: a,b"></textarea>'+
													'</div>'+
													'<div class="col-7">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Range(s)&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The range of values of which the input variable(s) should be randomly generated from."></i></label>'+
														'<textarea class="form-control" id="calc_range_'+(i+1)+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: a=1-10, b=1-5"></textarea>'+
													'</div>'+
												'</div>'+
												'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please follow the formats provided in the examples.</span>'+
												'<hr style="color: #bbbbbb;">'+
												'<label for="mc_question_1" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
												'<textarea class="form-control mb-2" id="calc_question_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5" placeholder="For example:&#10;&#10;Given that the value of a is *a* and b is *b*, find the value of x."></textarea>'+
												'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please enclose each variable that will be replaced by a randomly generated number with "*" symbols.</span>'+
											'</div>'+
											'<div class="row ps-3 pt-4">'+
												'<div class="col-auto">'+
													'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+(i+1)+'">Export Question</button>'+
												'</div>'+
												'<div class="col">'+
												'</div>'+
												'<div class="col-auto">'+
													'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+(i+1)+'">Delete Question</button>'+
												'</div>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>');
						} else if (question_types[i] == "calc_multi") {
							$("#question_list").prepend('<div class="row" id="ques_list_item_'+(i+1)+'">'+
							'<input class="quest_type" type="hidden" value="calc_multi">'+
								'<div class="col ms-3 me-3 mt-2">'+
									'<hr style="color: #bbbbbb;">'+
									'<div class="row mt-4">'+
										'<div class="col-auto">'+
											'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
												'<div class="row mb-2">'+
													'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+(i+1)+'</span>'+
												'</div>'+
												'<div class="row">'+
													'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Calculated Multichoice</span>'+
												'</div>'+
												'<div class="row">'+
													'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.</span>'+
												'</div>'+
											'</div>'+
										'</div>'+
										'<div class="col">'+
											'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
												'<div class="col-auto">'+
													'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
													'<input type="file" id="imageQues_'+(i+1)+'" style="display:none" accept="image/*">'+
													'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+(i+1)+"'"+').click()">Insert Image For Question</button>'+
													'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
												'</div>'+
												'<img id="dispImg_'+(i+1)+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please enter your formula.&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem; cursor: pointer;" title="LaTeX Commands"></i></label>'+
												'<div class="row mb-2">'+
													'<div class="col formula">'+
														'<textarea class="form-control formula" id="calc_multi_formula_'+(i+1)+'"  style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="6"placeholder="For example:&#10;&#10;x = sqrt(b)/(3*a)"></textarea>'+
													'</div>'+
													'<div class="col">'+
														'<div class="card shadow-none pt-3 ps-3 pe-3 pb-0" style="height: 100%; border: 0px solid gray; background-color: rgba(0,85,151,1); border-radius: 0px; font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; color: white;">'+
															'Use this to verify if the formula entered is correct and matches the desired equation.'+
															'<span>&#92;[x=&#92;frac{&#92;sqrt{&#92;mathrm{b}}}{&#92;left(3&#92;cdot a&#92;right)}&#92;]</span>'+
														'</div>'+
													'</div>'+
												'</div>'+
												'<div class="row mt-2">'+
													'<div class="col-6">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Input Value(s)</label>'+
														'<textarea class="form-control test_formula" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1" placeholder="For example: a=1, b=9"></textarea>'+
													'</div>'+
													'<div class="col-4">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Answer</label>'+
														'<textarea class="form-control" disabled style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px; color: gray;" rows="1"></textarea>'+
													'</div>'+
													'<div class="col-2">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;"><i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="Use this to test if the formula is working correctly."></i></label>'+
														'<br>'+
														'<button disabled class="btn test_button" type="button" style="background-color:green; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.85rem; border-radius: 0px; width: 100%;" id="test_button">Test Formula</button>'+
													'</div>'+
												'</div>'+
												'<hr style="color: #bbbbbb;">'+
												'<div class="row mb-2 var_row">'+
													'<div class="col-2">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Output Variable&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The variable of which the formula has to determine."></i></label>'+
														'<textarea class="form-control" id="calc_multi_output_var_'+(i+1)+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: x"></textarea>'+
													'</div>'+
													'<div class="col-3">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Input Variable(s)&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The variable(s) used in the formula to calculate the answer."></i></label>'+
														'<textarea class="form-control" id="calc_multi_input_var_'+(i+1)+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: a,b"></textarea>'+
													'</div>'+
													'<div class="col-7">'+
														'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Range(s)&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The range of values of which the input variable(s) should be randomly generated from."></i></label>'+
														'<textarea class="form-control" id="calc_multi_range_'+(i+1)+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: a=1-10, b=1-5"></textarea>'+
													'</div>'+
												'</div>'+
												'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please follow the formats provided in the examples.</span>'+
												'<hr style="color: #bbbbbb;">'+
												'<label for="mc_question_1" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
												'<textarea class="form-control mb-2" id="calc_multi_question_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5" placeholder="For example:&#10;&#10;Given that the value of a is *a* and b is *b*, find the value of x."></textarea>'+
												'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please enclose each variable that will be replaced by a randomly generated number with "*" symbols.</span>'+
											'</div>'+
											'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
												'<label for="calc_multi_ans_'+(i+1)+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Answer Format<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span></label>'+
												'<textarea class="form-control mb-2" id="calc_multi_ans_'+(i+1)+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="3" placeholder="For example:&#10;&#10;The value of x is *x*."></textarea>'+
												'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please enclose the variable that will be replaced by a randomly generated number with "*" symbols. Only one is allowed.</span>'+
											'</div>'+
											'<div class="row ps-3 pt-4">'+
												'<div class="col-auto">'+
													'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+(i+1)+'">Export Question</button>'+
												'</div>'+
												'<div class="col">'+
												'</div>'+
												'<div class="col-auto">'+
													'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+(i+1)+'">Delete Question</button>'+
												'</div>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>');
						}
					}
					
					if (question_types.includes("mc")) {
						const endpoint2 = '/data-api/rest/mc_Questions_QBank';
						const response2 = await fetch(endpoint2);
						const data2 = await response2.json();
												
						for (var j = 0; j < data2.value.length; j++) {
							if(data2.value[j].course_id == course_id){
								mc_questions_id[data2.value[j].q_id-1] = data2.value[j].id;
								
								$(document).find("#mc_question_"+data2.value[j].q_id).val(data2.value[j].question);
								$(document).find("#mc_correct_ans_"+data2.value[j].correct_ans_id+"_"+data2.value[j].q_id).prop('checked', true);
								
								if (data2.value[j].image != "" && data2.value[j].image != null && data2.value[j].image != undefined) {
									$(document).find("#dispImg_"+data2.value[j].q_id).attr('src',data2.value[j].image);
									$(document).find("#dispImg_"+data2.value[j].q_id).css('margin-bottom', '10px');
									$(document).find("#imageQues_"+data2.value[j].q_id).next('.addImg').html(data2.value[j].filename);
									$(document).find("#imageQues_"+data2.value[j].q_id).next('.addImg').css("background-color","#b32b76");
									$(document).find("#imageQues_"+data2.value[j].q_id).prev('.removeImg').prop("hidden", false);
								} 
							}
						}
						
						const endpoint3 = '/data-api/rest/mc_Answers_QBank';
						const response3 = await fetch(endpoint3);
						const data3 = await response3.json();
												
						for (var j = 0; j < data3.value.length; j++) {
							if(data3.value[j].course_id == course_id){
								mc_answers_id[data3.value[j].q_id-1][data3.value[j].ans_id-1] = data3.value[j].id;
								
								$(document).find("#mc_ans_"+data3.value[j].ans_id+"_"+data3.value[j].q_id).val(data3.value[j].answer);
							}
						}
					}
					
					if (question_types.includes("tf")) {
						const endpoint4 = '/data-api/rest/tf_Questions_QBank';
						const response4 = await fetch(endpoint4);
						const data4 = await response4.json();
												
						for (var j = 0; j < data4.value.length; j++) {
							if(data4.value[j].course_id == course_id){
								tf_questions_id[data4.value[j].q_id-1] = data4.value[j].id;
								
								$(document).find("#tf_question_"+data4.value[j].q_id).val(data4.value[j].question);
								$(document).find("#tf_correct_ans_"+data4.value[j].correct_ans_id+"_"+data4.value[j].q_id).prop('checked', true);
								
								if (data4.value[j].image != "" && data4.value[j].image != null && data4.value[j].image != undefined) {
									$(document).find("#dispImg_"+data4.value[j].q_id).attr('src',data4.value[j].image);
									$(document).find("#dispImg_"+data4.value[j].q_id).css('margin-bottom', '10px');
									$(document).find("#imageQues_"+data4.value[j].q_id).next('.addImg').html(data4.value[j].filename);
									$(document).find("#imageQues_"+data4.value[j].q_id).next('.addImg').css("background-color","#b32b76");
									$(document).find("#imageQues_"+data4.value[j].q_id).prev('.removeImg').prop("hidden", false);
								} 
							}
						}
					}
					
					if (question_types.includes("sa")) {
						const endpoint5 = '/data-api/rest/sa_Questions_QBank';
						const response5 = await fetch(endpoint5);
						const data5 = await response5.json();
												
						for (var j = 0; j < data5.value.length; j++) {
							if(data5.value[j].course_id == course_id){
								sa_questions_id[data5.value[j].q_id-1] = data5.value[j].id;
								
								$(document).find("#sa_question_"+data5.value[j].q_id).val(data5.value[j].question);
								$(document).find("#sa_ans_"+data5.value[j].q_id).val(data5.value[j].correct_ans);
								
								if (data5.value[j].image != "" && data5.value[j].image != null && data5.value[j].image != undefined) {
									$(document).find("#dispImg_"+data5.value[j].q_id).attr('src',data5.value[j].image);
									$(document).find("#dispImg_"+data5.value[j].q_id).css('margin-bottom', '10px');
									$(document).find("#imageQues_"+data5.value[j].q_id).next('.addImg').html(data5.value[j].filename);
									$(document).find("#imageQues_"+data5.value[j].q_id).next('.addImg').css("background-color","#b32b76");
									$(document).find("#imageQues_"+data5.value[j].q_id).prev('.removeImg').prop("hidden", false);
								} 
							}
						}
					}
					
					if (question_types.includes("essay")) {
						const endpoint6 = '/data-api/rest/essay_Questions_QBank';
						const response6 = await fetch(endpoint6);
						const data6 = await response6.json();
												
						for (var j = 0; j < data6.value.length; j++) {
							if(data6.value[j].course_id == course_id){
								essay_questions_id[data6.value[j].q_id-1] = data6.value[j].id;
								
								$(document).find("#essay_question_"+data6.value[j].q_id).val(data6.value[j].question);
								$(document).find("#essay_ans_"+data6.value[j].q_id).val(data6.value[j].correct_keywords);
								
								if (data6.value[j].image != "" && data6.value[j].image != null && data6.value[j].image != undefined) {
									$(document).find("#dispImg_"+data6.value[j].q_id).attr('src',data6.value[j].image);
									$(document).find("#dispImg_"+data6.value[j].q_id).css('margin-bottom', '10px');
									$(document).find("#imageQues_"+data6.value[j].q_id).next('.addImg').html(data6.value[j].filename);
									$(document).find("#imageQues_"+data6.value[j].q_id).next('.addImg').css("background-color","#b32b76");
									$(document).find("#imageQues_"+data6.value[j].q_id).prev('.removeImg').prop("hidden", false);
								} 
							}
						}
					}
					
					if (question_types.includes("calc")) {
						const endpoint7 = '/data-api/rest/calc_Questions_QBank';
						const response7 = await fetch(endpoint7);
						const data7 = await response7.json();
												
						for (var j = 0; j < data7.value.length; j++) {
							if(data7.value[j].course_id == course_id){
								calc_questions_id[data7.value[j].q_id-1] = data7.value[j].id;
								
								$(document).find("#calc_formula_"+data7.value[j].q_id).val(data7.value[j].formula);
								$(document).find("#calc_formula_"+data7.value[j].q_id).parent().siblings('div.col').children('div.card').children('span').html('&#92;['+math.parse(data7.value[j].formula).toTex()+'&#92;]');
								MathJax.typeset();
								$(document).find("#calc_output_var_"+data7.value[j].q_id).val(data7.value[j].out_var);
								$(document).find("#calc_input_var_"+data7.value[j].q_id).val(data7.value[j].in_var);
								$(document).find("#calc_range_"+data7.value[j].q_id).val(data7.value[j].range);
								$(document).find("#calc_question_"+data7.value[j].q_id).val(data7.value[j].question);
								
								if (data7.value[j].image != "" && data7.value[j].image != null && data7.value[j].image != undefined) {
									$(document).find("#dispImg_"+data7.value[j].q_id).attr('src',data7.value[j].image);
									$(document).find("#dispImg_"+data7.value[j].q_id).css('margin-bottom', '10px');
									$(document).find("#imageQues_"+data7.value[j].q_id).next('.addImg').html(data7.value[j].filename);
									$(document).find("#imageQues_"+data7.value[j].q_id).next('.addImg').css("background-color","#b32b76");
									$(document).find("#imageQues_"+data7.value[j].q_id).prev('.removeImg').prop("hidden", false);
								} 
							}
						}
					}
					
					if (question_types.includes("calc_multi")) {
						const endpoint8 = '/data-api/rest/multiCalc_Questions_QBank';
						const response8 = await fetch(endpoint8);
						const data8 = await response8.json();
												
						for (var j = 0; j < data8.value.length; j++) {
							if(data8.value[j].course_id == course_id){
								calc_multi_questions_id[data8.value[j].q_id-1] = data8.value[j].id;
								
								$(document).find("#calc_multi_formula_"+data8.value[j].q_id).val(data8.value[j].formula);
								$(document).find("#calc_multi_formula_"+data8.value[j].q_id).parent().siblings('div.col').children('div.card').children('span').html('&#92;['+math.parse(data8.value[j].formula).toTex()+'&#92;]');
								MathJax.typeset();
								$(document).find("#calc_multi_output_var_"+data8.value[j].q_id).val(data8.value[j].out_var);
								$(document).find("#calc_multi_input_var_"+data8.value[j].q_id).val(data8.value[j].in_var);
								$(document).find("#calc_multi_range_"+data8.value[j].q_id).val(data8.value[j].range);
								$(document).find("#calc_multi_question_"+data8.value[j].q_id).val(data8.value[j].question);
								$(document).find("#calc_multi_ans_"+data8.value[j].q_id).val(data8.value[j].answer_format);
								
								if (data8.value[j].image != "" && data8.value[j].image != null && data8.value[j].image != undefined) {
									$(document).find("#dispImg_"+data8.value[j].q_id).attr('src',data8.value[j].image);
									$(document).find("#dispImg_"+data8.value[j].q_id).css('margin-bottom', '10px');
									$(document).find("#imageQues_"+data8.value[j].q_id).next('.addImg').html(data8.value[j].filename);
									$(document).find("#imageQues_"+data8.value[j].q_id).next('.addImg').css("background-color","#b32b76");
									$(document).find("#imageQues_"+data8.value[j].q_id).prev('.removeImg').prop("hidden", false);
								} 
							}
						}
					}
					
					
					
					$(document).find("input[type=radio]").each(function(){
						if ($(this).is(':checked')){
							$(this).next('label').attr("hidden",false);
						} else {
							$(this).next('label').attr("hidden",true);
						}
					});

					setTimeout(()=> {
						$('#loadingModal').modal('toggle');
					},500);
				}
			}
			
			get_questions();
			
			
			$('.qtype_menu_item').on('click', function () {
				$("#qtype_menu").find(".qtype_menu_item").removeClass("active");
				$(this).addClass("active");
				qtype = $(this).attr('id');
				$("#qtype_text").html($(this).html());
				if (qtype == "txt_file") {
					$("#qtype_text").css('color','gray');
				} else {
					$("#qtype_text").css('color','black');
				}
			} );
			
			var toBeDeleted;
			var toBeDeleted_id;
			
			$(document).on('click', 'button.delete', function(e) {
				toBeDeleted = $(this).parent().parent().parent().parent().parent().parent();
				toBeDeleted_id = $(this).attr('id').slice($(this).attr('id').indexOf('_') + 1);
				$("#delete_modal_message").html('Are you sure you want to delete Question '+toBeDeleted_id+' ?');
				$("#deleteModal").modal('show');
			});
			
			$(document).on('click', '#delete_modal', function(e) {
				toBeDeleted.remove();
				question_number_memory[toBeDeleted_id-1] = 0;
				$("#submit_button").prop('disabled', false);
			});
			
			$('#add_button').on('click', function () {
				total_question_no += 1;
				question_number_memory.push(total_question_no);
				if(qtype == "multi_choice"){
					$("#question_list").prepend('<div class="row" id="ques_list_item_'+total_question_no+'">'+
						'<input class="quest_type" type="hidden" value="'+qtype+'">'+
						'<div class="col ms-3 me-3 mt-2">'+
						'<hr style="color: #bbbbbb;">'+
						'<div class="row mt-4">'+
							'<div class="col-auto">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
									'<div class="row mb-2">'+
										'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span><span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Multiple Choice<span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span>'+
									'</div>'+
								'</div>'+
							'</div>'+
							'<div class="col">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
									'<div class="col-auto">'+
										'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
										'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
										'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
									'</div>'+
									'<img id="dispImg_'+total_question_no+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
									'<label for="mc_question_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
									'<textarea class="form-control" id="mc_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
								'</div>'+
								'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="mc_ans_1_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">1st Answer Choice</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
											  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+total_question_no+'" id="mc_correct_ans_1_'+total_question_no+'" checked>'+
											  '<label class="form-check-label" for="mc_correct_ans_1_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+
												'Correct Answer'+
											  '</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-3" id="mc_ans_1_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="mc_ans_2_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">2nd Answer Choice</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
											  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+total_question_no+'" id="mc_correct_ans_2_'+total_question_no+'">'+
											  '<label class="form-check-label" for="mc_correct_ans_2_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
												'Correct Answer'+
											  '</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-3" id="mc_ans_2_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="mc_ans_3_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">3rd Answer Choice</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
											  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+total_question_no+'" id="mc_correct_ans_3_'+total_question_no+'">'+
											  '<label class="form-check-label" for="mc_correct_ans_3_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
												'Correct Answer'+
											  '</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-3" id="mc_ans_3_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="mc_ans_4_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">4th Answer Choice</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
											  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+total_question_no+'" id="mc_correct_ans_4_'+total_question_no+'">'+
											  '<label class="form-check-label" for="mc_correct_ans_4_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
												'Correct Answer'+
											  '</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control" id="mc_ans_4_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
								'</div>'+
								'<div class="row ps-3 pt-4">'+
									'<div class="col-auto">'+
										'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+total_question_no+'">Export Question</button>'+
									'</div>'+
									'<div class="col">'+
									'</div>'+
									'<div class="col-auto">'+
										'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+total_question_no+'">Delete Question</button>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
				'</div>');
				} else if (qtype == "true_false") {
					$("#question_list").prepend('<div class="row" id="ques_list_item_'+total_question_no+'">'+
					'<input class="quest_type" type="hidden" value="'+qtype+'">'+
					'<div class="col ms-3 me-3 mt-2">'+
						'<hr style="color: #bbbbbb;">'+
						'<div class="row mt-4">'+
							'<div class="col-auto">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
									'<div class="row mb-2">'+
										'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span><span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">True/False<span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
									'</div>'+
								'</div>'+
							'</div>'+
							'<div class="col">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
									'<div class="col-auto">'+
										'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
										'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
										'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
									'</div>'+
									'<img id="dispImg_'+total_question_no+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
									'<label for="tf_question_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
									'<textarea class="form-control" id="tf_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
								'</div>'+
								'<div class="card shadow-none pt-3 pb-2 ps-4 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">True</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
												'<input class="form-check-input" type="radio" name="tf_correct_radio_'+total_question_no+'" id="tf_correct_ans_t_'+total_question_no+'" checked="">'+
												'<label class="form-check-label" for="tf_correct_ans_t_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Answer</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">False</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
												'<input class="form-check-input" type="radio" name="tf_correct_radio_'+total_question_no+'" id="tf_correct_ans_f_'+total_question_no+'">'+
												'<label class="form-check-label" for="tf_correct_ans_f_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden="">Correct Answer</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div class="row ps-3 pt-4">'+
									'<div class="col-auto">'+
										'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+total_question_no+'">Export Question</button>'+
									'</div>'+
									'<div class="col">'+
									'</div>'+
									'<div class="col-auto">'+
										'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+total_question_no+'">Delete Question</button>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
				'</div>');
				} else if (qtype == "short_ans"){
					$("#question_list").prepend('<div class="row" id="ques_list_item_'+total_question_no+'">'+
					'<input class="quest_type" type="hidden" value="'+qtype+'">'+
					'<div class="col ms-3 me-3 mt-2">'+
						'<hr style="color: #bbbbbb;">'+
						'<div class="row mt-4">'+
							'<div class="col-auto">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
									'<div class="row mb-2">'+
										'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span><span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Short Answer<span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
									'</div>'+
								'</div>'+
							'</div>'+
							'<div class="col">'+
									'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
									'<div class="col-auto">'+
										'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
										'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
										'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
									'</div>'+
									'<img id="dispImg_'+total_question_no+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
									'<label for="sa_question_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
									'<textarea class="form-control" id="sa_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
								'</div>'+
								'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="sa_ans_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Answer</label>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-1" id="sa_ans_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
								'</div>'+
								'<div class="row ps-3 pt-4">'+
									'<div class="col-auto">'+
										'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+total_question_no+'">Export Question</button>'+
									'</div>'+
									'<div class="col">'+
									'</div>'+
									'<div class="col-auto">'+
										'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+total_question_no+'">Delete Question</button>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
				'</div>');
				} else if (qtype == "essay"){
					$("#question_list").prepend('<div class="row" id="ques_list_item_'+total_question_no+'">'+
					'<input class="quest_type" type="hidden" value="'+qtype+'">'+
					'<div class="col ms-3 me-3 mt-2">'+
						'<hr style="color: #bbbbbb;">'+
						'<div class="row mt-4">'+
							'<div class="col-auto">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
									'<div class="row mb-2">'+
										'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span><span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Essay<span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
									'</div>'+
								'</div>'+
							'</div>'+
							'<div class="col">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
								'<div class="col-auto">'+
									'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
									'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
									'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
									'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
								'</div>'+
									'<img id="dispImg_'+total_question_no+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
									'<label for="essay_question_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
									'<textarea class="form-control" id="essay_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
								'</div>'+
								'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="essay_ans_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Keyword(s)</label>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-2" id="essay_ans_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="2"></textarea>'+
									'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please separate each keyword with a "," symbol. 1 point will be divided by the number of keywords provided for each question.<br>&nbsp;For example: "keyword1, keyword2, keyword3, keyword4 ..."</span>'+
								'</div>'+
								'<div class="row ps-3 pt-4">'+
									'<div class="col-auto">'+
										'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+total_question_no+'">Export Question</button>'+
									'</div>'+
									'<div class="col">'+
									'</div>'+
									'<div class="col-auto">'+
										'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+total_question_no+'">Delete Question</button>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
				'</div>');
				} else if (qtype == "calc"){
					$("#question_list").prepend('<div class="row" id="ques_list_item_'+total_question_no+'">'+
					'<input class="quest_type" type="hidden" value="'+qtype+'">'+
						'<div class="col ms-3 me-3 mt-2">'+
							'<hr style="color: #bbbbbb;">'+
							'<div class="row mt-4">'+
								'<div class="col-auto">'+
									'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
										'<div class="row mb-2">'+
											'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span>'+
										'</div>'+
										'<div class="row">'+
											'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Calculated</span>'+
										'</div>'+
										'<div class="row">'+
											'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.</span>'+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div class="col">'+
									'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
										'<div class="col-auto">'+
											'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
											'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
											'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
											'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
										'</div>'+
											'<img id="dispImg_'+total_question_no+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
										'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please enter your formula.&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem; cursor: pointer;" title="LaTeX Commands"></i></label>'+
										'<div class="row mb-2">'+
											'<div class="col formula">'+
												'<textarea class="form-control formula" id="calc_formula_'+total_question_no+'"  style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="6"placeholder="For example:&#10;&#10;x = sqrt(b)/(3*a)"></textarea>'+
											'</div>'+
											'<div class="col">'+
												'<div class="card shadow-none pt-3 ps-3 pe-3 pb-0" style="height: 100%; border: 0px solid gray; background-color: rgba(0,85,151,1); border-radius: 0px; font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; color: white;">'+
													'Use this to verify if the formula entered is correct and matches the desired equation.'+
													'<span>&#92;[x=&#92;frac{&#92;sqrt{&#92;mathrm{b}}}{&#92;left(3&#92;cdot a&#92;right)}&#92;]</span>'+
												'</div>'+
											'</div>'+
										'</div>'+
										'<div class="row mt-2">'+
											'<div class="col-6">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Input Value(s)</label>'+
												'<textarea class="form-control test_formula" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1" placeholder="For example: a=1, b=9"></textarea>'+
											'</div>'+
											'<div class="col-4">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Answer</label>'+
												'<textarea class="form-control" disabled style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px; color: gray;" rows="1"></textarea>'+
											'</div>'+
											'<div class="col-2">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;"><i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="Use this to test if the formula is working correctly."></i></label>'+
												'<br>'+
												'<button disabled class="btn test_button" type="button" style="background-color:green; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.85rem; border-radius: 0px; width: 100%;" id="test_button">Test Formula</button>'+
											'</div>'+
										'</div>'+
										'<hr style="color: #bbbbbb;">'+
										'<div class="row mb-2 var_row">'+
											'<div class="col-2">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Output Variable&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The variable of which the formula has to determine."></i></label>'+
												'<textarea class="form-control" id="calc_output_var_'+total_question_no+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: x"></textarea>'+
											'</div>'+
											'<div class="col-3">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Input Variable(s)&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The variable(s) used in the formula to calculate the answer."></i></label>'+
												'<textarea class="form-control" id="calc_input_var_'+total_question_no+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: a,b"></textarea>'+
											'</div>'+
											'<div class="col-7">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Range(s)&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The range of values of which the input variable(s) should be randomly generated from."></i></label>'+
												'<textarea class="form-control" id="calc_range_'+total_question_no+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: a=1-10, b=1-5"></textarea>'+
											'</div>'+
										'</div>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please follow the formats provided in the examples.</span>'+
										'<hr style="color: #bbbbbb;">'+
										'<label for="mc_question_1" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
										'<textarea class="form-control mb-2" id="calc_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5" placeholder="For example:&#10;&#10;Given that the value of a is *a* and b is *b*, find the value of x."></textarea>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please enclose each variable that will be replaced by a randomly generated number with "*" symbols.</span>'+
									'</div>'+
									'<div class="row ps-3 pt-4">'+
										'<div class="col-auto">'+
											'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+total_question_no+'">Export Question</button>'+
										'</div>'+
										'<div class="col">'+
										'</div>'+
										'<div class="col-auto">'+
											'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+total_question_no+'">Delete Question</button>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>');
					MathJax.typeset();
				} else if (qtype == "calc_multi"){
					$("#question_list").prepend('<div class="row" id="ques_list_item_'+total_question_no+'">'+
					'<input class="quest_type" type="hidden" value="'+qtype+'">'+
						'<div class="col ms-3 me-3 mt-2">'+
							'<hr style="color: #bbbbbb;">'+
							'<div class="row mt-4">'+
								'<div class="col-auto">'+
									'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
										'<div class="row mb-2">'+
											'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span>'+
										'</div>'+
										'<div class="row">'+
											'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Calculated Multichoice</span>'+
										'</div>'+
										'<div class="row">'+
											'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.</span>'+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div class="col">'+
									'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
										'<div class="col-auto">'+
											'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
											'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
											'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
											'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
										'</div>'+
										'<img id="dispImg_'+total_question_no+'" class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
										'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please enter your formula.&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem; cursor: pointer;" title="LaTeX Commands"></i></label>'+
										'<div class="row mb-2">'+
											'<div class="col formula">'+
												'<textarea class="form-control formula" id="calc_multi_formula_'+total_question_no+'"  style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="6"placeholder="For example:&#10;&#10;x = sqrt(b)/(3*a)"></textarea>'+
											'</div>'+
											'<div class="col">'+
												'<div class="card shadow-none pt-3 ps-3 pe-3 pb-0" style="height: 100%; border: 0px solid gray; background-color: rgba(0,85,151,1); border-radius: 0px; font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; color: white;">'+
													'Use this to verify if the formula entered is correct and matches the desired equation.'+
													'<span>&#92;[x=&#92;frac{&#92;sqrt{&#92;mathrm{b}}}{&#92;left(3&#92;cdot a&#92;right)}&#92;]</span>'+
												'</div>'+
											'</div>'+
										'</div>'+
										'<div class="row mt-2">'+
											'<div class="col-6">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Input Value(s)</label>'+
												'<textarea class="form-control test_formula" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1" placeholder="For example: a=1, b=9"></textarea>'+
											'</div>'+
											'<div class="col-4">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Answer</label>'+
												'<textarea class="form-control" disabled style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px; color: gray;" rows="1"></textarea>'+
											'</div>'+
											'<div class="col-2">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;"><i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="Use this to test if the formula is working correctly."></i></label>'+
												'<br>'+
												'<button disabled class="btn test_button" type="button" style="background-color:green; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.85rem; border-radius: 0px; width: 100%;" id="test_button">Test Formula</button>'+
											'</div>'+
										'</div>'+
										'<hr style="color: #bbbbbb;">'+
										'<div class="row mb-2 var_row">'+
											'<div class="col-2">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Output Variable&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The variable of which the formula has to determine."></i></label>'+
												'<textarea class="form-control" id="calc_multi_output_var_'+total_question_no+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: x"></textarea>'+
											'</div>'+
											'<div class="col-3">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Input Variable(s)&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The variable(s) used in the formula to calculate the answer."></i></label>'+
												'<textarea class="form-control" id="calc_multi_input_var_'+total_question_no+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: a,b"></textarea>'+
											'</div>'+
											'<div class="col-7">'+
												'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Range(s)&nbsp;&nbsp;<i class="far fa-question-circle" style="color:gray; font-size: 0.8rem;" title="The range of values of which the input variable(s) should be randomly generated from."></i></label>'+
												'<textarea class="form-control" id="calc_multi_range_'+total_question_no+'" style="font-size: 0.85rem; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"placeholder="For example: a=1-10, b=1-5"></textarea>'+
											'</div>'+
										'</div>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please follow the formats provided in the examples.</span>'+
										'<hr style="color: #bbbbbb;">'+
										'<label for="mc_question_1" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
										'<textarea class="form-control mb-2" id="calc_multi_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5" placeholder="For example:&#10;&#10;Given that the value of a is *a* and b is *b*, find the value of x."></textarea>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please enclose each variable that will be replaced by a randomly generated number with "*" symbols.</span>'+
									'</div>'+
									'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
										'<label for="calc_multi_ans_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Answer Format<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span></label>'+
										'<textarea class="form-control mb-2" id="calc_multi_ans_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="3" placeholder="For example:&#10;&#10;The value of x is *x*."></textarea>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please enclose the variable that will be replaced by a randomly generated number with "*" symbols. Only one is allowed.</span>'+
									'</div>'+
									'<div class="row ps-3 pt-4">'+
										'<div class="col-auto">'+
											'<button class="btn ps-4 pe-4 pt-2 pb-2 export" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto; margin-left:-15px;" id="export_'+total_question_no+'">Export Question</button>'+
										'</div>'+
										'<div class="col">'+
										'</div>'+
										'<div class="col-auto">'+
											'<button class="btn ps-4 pe-4 pt-2 pb-2 delete" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px; width: auto;" id="delete_'+total_question_no+'">Delete Question</button>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>');
					MathJax.typeset();
				} else if (qtype == "txt_file"){
					total_question_no -= 1;
					question_number_memory.pop();
					$("#txt_file_input").click();
				}
			} );

			$(document).on('change', 'input[type=radio]', function(e) {
				$(document).find("input[type=radio]").each(function(){
					if ($(this).is(':checked')){
						$(this).next('label').attr("hidden",false);
					} else {
						$(this).next('label').attr("hidden",true);
					}
				});
				$("#submit_button").prop('disabled', false);
			});
			
			$('#submit_button').on('click', function(e){
				error = "N";
				$(document).find("textarea.formula").each(function(){
					formula_id = $(this).attr('id').substr(-1);
					formula = $(this).val().replace(/\s/g,'');
					if (formula == "") {
						$("#calc_modal_title").html('Error in Question '+formula_id);
						$("#calc_modal_message").html('Please ensure a valid formula is entered!');
						$("#calcErrorModal").modal('show');
						error = "Y";
					} else {
						formula_split = formula.split("=");
						if (formula_split[0].length == 1 && formula_split[0].match(/[a-z]/i)) {
							out_var = $(this).parent().parent().siblings('div.var_row').children('div.col-2').children('textarea').val().replace(/\s/g,'');
							if (out_var.length == 1 && out_var == formula_split[0]) {
								in_var = $(this).parent().parent().siblings('div.var_row').children('div.col-3').children('textarea').val().replace(/\s/g,'');
								ranges = $(this).parent().parent().siblings('div.var_row').children('div.col-7').children('textarea').val().replace(/\s/g,'');
								if (in_var != "" && ranges != "") {
									in_var_split = in_var.split(",");
									flag = "Y";
									for (var i = 0; i < in_var_split.length; i++) {
										if(!ranges.includes(in_var_split[i])) {
											flag = "N";
										}
									}
									if (flag != "Y") {
										$("#calc_modal_title").html('Error in Question '+formula_id);
										$("#calc_modal_message").html('Please ensure each input variable has a corresponding range entered according to the format.');
										$("#calcErrorModal").modal('show');
										error = "Y";
									} 
								} else {
									$("#calc_modal_title").html('Error in Question '+formula_id);
									$("#calc_modal_message").html('Please ensure valid input variable(s) and range(s) are entered according to the format.');
									$("#calcErrorModal").modal('show');
									error = "Y";
								}
							} else {
								$("#calc_modal_title").html('Error in Question '+formula_id);
								$("#calc_modal_message").html('The output variable does not match the formula!');
								$("#calcErrorModal").modal('show');
								error = "Y";
							}
						} else {
							$("#calc_modal_title").html('Error in Question '+formula_id);
							$("#calc_modal_message").html('Please ensure the formula is in the format of "OutputVariable = CalculationOfInputVariable(s)"!');
							$("#calcErrorModal").modal('show');
							error = "Y";
						}
					}
					
				});
				
				if(error == "N"){
					$('#confirmModal').modal('toggle');
				}
			});
			
			$('#leave_button').on('click', function(e){
				window.location.replace('dashboard.html');
			});

			$('#confirm_button').on('click', function(e){
				$('#loadingModal').modal('show');
				for (var i = 0; i < question_types.length; i++) {
					
					delete_QuestionList_QBank(qlist_id[i]);

					if (question_types[i] == "mc") {
						
						<!-- alert(mc_questions_id[i]); -->
						delete_mc_Questions_QBank(mc_questions_id[i]);
						
						for (var j = 0; j < mc_answers_id[i].length; j++) {
							
							delete_mc_Answers_QBank(mc_answers_id[i][j]);
						}
					} else if (question_types[i] == "tf") {
						delete_tf_Questions_QBank(tf_questions_id[i]);
					} else if (question_types[i] == "sa") {
						delete_sa_Questions_QBank(sa_questions_id[i]);
					} else if (question_types[i] == "essay") {
						delete_essay_Questions_QBank(essay_questions_id[i]);
					} else if (question_types[i] == "calc") {
						delete_calc_Questions_QBank(calc_questions_id[i]);
					} else if (question_types[i] == "calc_multi") {
						delete_multiCalc_Questions_QBank(calc_multi_questions_id[i]);
					}
				}
				
				setTimeout(()=> {
					upload();
				},2000);
				
			});
			
			
			function upload() {
				ques_num_counter = 0;
				for (let i = 0; i < question_number_memory.length; i++) {
				
					if (question_number_memory[i] != 0) {
						ques_num_counter += 1;
						last = "N";
						if (i == question_number_memory.length-1){
							last = "Y";
						}
					
						data1 = '{"course_id": "'+course_id+'", "q_id": "'+ques_num_counter.toString()+'", "q_type": "';
						quest_type = $(document).find("#ques_list_item_"+question_number_memory[i].toString()).children(".quest_type").val();
						if ( quest_type == "multi_choice") {
							data1 += 'mc"}';
						} else if (quest_type == "true_false") {
							data1 += 'tf"}';
						} else if (quest_type == "short_ans") {
							data1 += 'sa"}';
						} else if (quest_type == "essay") {
							data1 += 'essay"}';
						} else if (quest_type == "calc") {
							data1 += 'calc"}';
						} else if (quest_type == "calc_multi") {
							data1 += 'calc_multi"}';
						}
						<!-- alert(data1); -->
						QuestionList_QBank(JSON.parse(data1));
						
						data2 = '{"course_id": "'+course_id+'", "q_id": "'+ques_num_counter.toString()+'", "question": "';
						if ( quest_type == "multi_choice") {
							ques = $(document).find("#mc_question_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += ques;
							data2 += '", "correct_ans_id": ';
							
							correct_ans_id = "";
							
							$("#ques_list_item_"+question_number_memory[i].toString()).find("input[type=radio]").each(function(){
								if ($(this).is(':checked')){
									correct_ans_id = $(this).attr('id');
								} 
							});
							
							data2 += correct_ans_id.charAt(15);
							data2 += ', "image" : "';
							file_status = $(document).find("#dispImg_"+question_number_memory[i].toString()).attr('src');
							if (file_status == ""){
								data2 += '", "filename": ""}';
							} else {
								data2 += file_status;
								data2 += '", "filename":"';
								data2 += $(document).find("#imageQues_"+question_number_memory[i].toString()).next('.addImg').html();
								data2 += '"}';
							}
							mc_Questions_QBank(JSON.parse(data2));
							
							for (let j = 1; j <= 4; j++) {
								data3 = '{"course_id": "'+course_id+'", "q_id": '+ques_num_counter.toString()+', "ans_id": '+j+', "answer": "';
								ans = $(document).find("#mc_ans_"+j+"_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
								data3 += ans;
								data3 += '"}';
								
								mc_Answers_QBank(JSON.parse(data3),last);
							}
						} else if (quest_type == "true_false") {
							ques = $(document).find("#tf_question_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += ques;
							data2 += '", "correct_ans_id": "';
							
							correct_ans_id = "";
							
							$("#ques_list_item_"+question_number_memory[i].toString()).find("input[type=radio]").each(function(){
								if ($(this).is(':checked')){
									correct_ans_id = $(this).attr('id');
								} 
							});
							
							data2 += correct_ans_id.charAt(15);
							data2 += '", "image" : "';
							file_status = $(document).find("#dispImg_"+question_number_memory[i].toString()).attr('src');
							if (file_status == ""){
								data2 += '", "filename": ""}';
							} else {
								data2 += file_status;
								data2 += '", "filename":"';
								data2 += $(document).find("#imageQues_"+question_number_memory[i].toString()).next('.addImg').html();
								data2 += '"}';
							}
							tf_Questions_QBank(JSON.parse(data2),last);
							
						} else if (quest_type == "short_ans") {
							ques = $(document).find("#sa_question_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += ques;
							data2 += '", "correct_ans": "';
							ans = $(document).find("#sa_ans_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += ans.toLowerCase().replace(/\s\s+/g, ' ').trim();
							data2 += '", "image" : "';
							file_status = $(document).find("#dispImg_"+question_number_memory[i].toString()).attr('src');
							if (file_status == ""){
								data2 += '", "filename": ""}';
							} else {
								data2 += file_status;
								data2 += '", "filename":"';
								data2 += $(document).find("#imageQues_"+question_number_memory[i].toString()).next('.addImg').html();
								data2 += '"}';
							}
							sa_Questions_QBank(JSON.parse(data2),last);

						} else if (quest_type == "essay") {
							ques = $(document).find("#essay_question_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += ques;
							data2 += '", "correct_keywords": "';
							ans = $(document).find("#essay_ans_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += ans.toLowerCase().replace(/\s\s+/g, ' ').trim();
							data2 += '", "image" : "';
							file_status = $(document).find("#dispImg_"+question_number_memory[i].toString()).attr('src');
							if (file_status == ""){
								data2 += '", "filename": ""}';
							} else {
								data2 += file_status;
								data2 += '", "filename":"';
								data2 += $(document).find("#imageQues_"+question_number_memory[i].toString()).next('.addImg').html();
								data2 += '"}';
							}
							essay_Questions_QBank(JSON.parse(data2),last);

						} else if (quest_type == "calc") {
							ques = $(document).find("#calc_question_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += ques;
							data2 += '", "formula": "';
							data2 += $(document).find("#calc_formula_"+question_number_memory[i].toString()).val();
							data2 += '", "out_var": "';
							data2 += $(document).find("#calc_output_var_"+question_number_memory[i].toString()).val();
							data2 += '", "in_var": "';
							data2 += $(document).find("#calc_input_var_"+question_number_memory[i].toString()).val();
							data2 += '", "range": "';
							data2 += $(document).find("#calc_range_"+question_number_memory[i].toString()).val();
							data2 += '", "image" : "';
							file_status = $(document).find("#dispImg_"+question_number_memory[i].toString()).attr('src');
							if (file_status == ""){
								data2 += '", "filename": ""}';
							} else {
								data2 += file_status;
								data2 += '", "filename":"';
								data2 += $(document).find("#imageQues_"+question_number_memory[i].toString()).next('.addImg').html();
								data2 += '"}';
							}
							calc_Questions_QBank(JSON.parse(data2),last);
							
						} else if (quest_type == "calc_multi") {
							ques = $(document).find("#calc_multi_question_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += ques;
							data2 += '", "formula": "';
							data2 += $(document).find("#calc_multi_formula_"+question_number_memory[i].toString()).val();
							data2 += '", "out_var": "';
							data2 += $(document).find("#calc_multi_output_var_"+question_number_memory[i].toString()).val();
							data2 += '", "in_var": "';
							data2 += $(document).find("#calc_multi_input_var_"+question_number_memory[i].toString()).val();
							data2 += '", "range": "';
							data2 += $(document).find("#calc_multi_range_"+question_number_memory[i].toString()).val();
							data2 += '", "answer_format": "';
							data2 += $(document).find("#calc_multi_ans_"+question_number_memory[i].toString()).val().replace(/"/g, "'");
							data2 += '", "image" : "';
							file_status = $(document).find("#dispImg_"+question_number_memory[i].toString()).attr('src');
							if (file_status == ""){
								data2 += '", "filename": ""}';
							} else {
								data2 += file_status;
								data2 += '", "filename":"';
								data2 += $(document).find("#imageQues_"+question_number_memory[i].toString()).next('.addImg').html();
								data2 += '"}';
							}
							multiCalc_Questions_QBank(JSON.parse(data2),last);
							
						}
					}
				}
				
				if (ques_num_counter == 0) {
					setTimeout(()=> {
						$("#leave_modal_message").html('The question bank has been updated.');
						$('#leaveModal').modal('show');
					},2000);
				}
			}

			async function QuestionList_QBank(data) {
				const endpoint = '/data-api/rest/QuestionList_QBank/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				<!-- alert(JSON.stringify(result.value)); -->
			}
			
			async function mc_Questions_QBank(data) {
				const endpoint = '/data-api/rest/mc_Questions_QBank/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				<!-- alert(JSON.stringify(result.value)); -->
			}
			
			async function mc_Answers_QBank(data,last) {
				const endpoint = '/data-api/rest/mc_Answers_QBank/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				if (last == "Y") {
					setTimeout(()=> {
						$('#loadingModal').modal('hide');
					},500);
					setTimeout(()=> {
						$("#leave_modal_message").html('The question bank has been updated.');
						$('#leaveModal').modal('show');
					},1000);
				}
			}
			
			async function tf_Questions_QBank(data,last) {
				const endpoint = '/data-api/rest/tf_Questions_QBank/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				if (last == "Y") {
					setTimeout(()=> {
						$('#loadingModal').modal('hide');
					},500);
					setTimeout(()=> {
						$("#leave_modal_message").html('The question bank has been updated.');
						$('#leaveModal').modal('show');
					},1000);
				}
			}
			
			async function sa_Questions_QBank(data,last) {
				const endpoint = '/data-api/rest/sa_Questions_QBank/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				if (last == "Y") {
					setTimeout(()=> {
						$('#loadingModal').modal('hide');
					},500);
					setTimeout(()=> {
						$("#leave_modal_message").html('The question bank has been updated.');
						$('#leaveModal').modal('show');
					},1000);
				}
			}
			
			async function essay_Questions_QBank(data,last) {
				const endpoint = '/data-api/rest/essay_Questions_QBank/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				if (last == "Y") {
					setTimeout(()=> {
						$('#loadingModal').modal('hide');
					},500);
					setTimeout(()=> {
						$("#leave_modal_message").html('The question bank has been updated.');
						$('#leaveModal').modal('show');
					},1000);
				}
			}
			
			async function calc_Questions_QBank(data,last) {
				const endpoint = '/data-api/rest/calc_Questions_QBank/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				if (last == "Y") {
					setTimeout(()=> {
						$('#loadingModal').modal('hide');
					},500);
					setTimeout(()=> {
						$("#leave_modal_message").html('The question bank has been updated.');
						$('#leaveModal').modal('show');
					},1000);
				}
			}
			
			async function multiCalc_Questions_QBank(data,last) {
				const endpoint = '/data-api/rest/multiCalc_Questions_QBank/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				if (last == "Y") {
					setTimeout(()=> {
						$('#loadingModal').modal('hide');
					},500);
					setTimeout(()=> {
						$("#leave_modal_message").html('The question bank has been updated.');
						$('#leaveModal').modal('show');
					},1000);
				}
			}
			
			async function delete_QuestionList_QBank(id) {
				const endpoint = '/data-api/rest/QuestionList_QBank/id';
				const response = await fetch(`${endpoint}/${id}`, {
					method: "DELETE"
				});
				<!-- alert(JSON.stringify(response));	 -->
			}
			
			async function delete_mc_Questions_QBank(id) {
				const endpoint = '/data-api/rest/mc_Questions_QBank/id';
				const response = await fetch(`${endpoint}/${id}`, {
					method: "DELETE"
				});
				<!-- alert(JSON.stringify(response)); -->
			}
			
			async function delete_mc_Answers_QBank(id) {
				const endpoint = '/data-api/rest/mc_Answers_QBank/id';
				const response = await fetch(`${endpoint}/${id}`, {
					method: "DELETE"
				});
			}
			
			async function delete_tf_Questions_QBank(id) {
				const endpoint = '/data-api/rest/tf_Questions_QBank/id';
				const response = await fetch(`${endpoint}/${id}`, {
					method: "DELETE"
				});
			}
			
			async function delete_sa_Questions_QBank(id) {
				const endpoint = '/data-api/rest/sa_Questions_QBank/id';
				const response = await fetch(`${endpoint}/${id}`, {
					method: "DELETE"
				});
			}
			
			async function delete_essay_Questions_QBank(id) {
				const endpoint = '/data-api/rest/essay_Questions_QBank/id';
				const response = await fetch(`${endpoint}/${id}`, {
					method: "DELETE"
				});
			}
			
			async function delete_calc_Questions_QBank(id) {
				const endpoint = '/data-api/rest/calc_Questions_QBank/id';
				const response = await fetch(`${endpoint}/${id}`, {
					method: "DELETE"
				});
			}
			
			async function delete_multiCalc_Questions_QBank(id) {
				const endpoint = '/data-api/rest/multiCalc_Questions_QBank/id';
				const response = await fetch(`${endpoint}/${id}`, {
					method: "DELETE"
				});
			}

			$(document).on('change keyup paste', 'textarea', function(e) {
				$("#submit_button").prop('disabled', false);
			});
			
			
			
			
			$(document).on('change', '#txt_file_input', function(e) {
				var fileList = this.files;
				for (var i = 0; i < fileList.length; i++) {
					var fileName = fileList[i].name;
					var idxDot = fileName.lastIndexOf(".") + 1;
					var extFile = fileName.substr(idxDot, fileName.length).toLowerCase();
					var content;
					if (extFile=="txt"){
						var element2 = $(this);
						var fileToRead = fileList[i];
						var p = new Promise(function(resolve) {
							var reader2 = new FileReader();
							reader2.onloadend = function () {
								code = reader2.result;
								resolve(getContents(code.replace(/^(?=\n)$|^\s*|\s*$|\n\n+/gm,'').split(/\r?\n/),element2,fileName));
							};
							reader2.readAsText(fileToRead);
						});
					}else{
						$(this).val(''); 
						$('#txtFileErrorModal_message').html('Only .txt file type is allowed!');
						$('#txtFileErrorModal').modal('show');
					}
				}
			});
			
			function getContents(content,element,fileName){
				for (var i = 0; i < content.length; i++) {
					row = content[i].split("|");
					if (row[0] == "multi_choice") {
						if (row.length == 9) {
							qtype = "multi_choice";
							$('#add_button').click();
							qtype = "txt_file";
							row_count = 1;
							$('#ques_list_item_'+total_question_no).find("textarea").each(function(){
								$(this).val(row[row_count]);
								row_count += 1;
							});
							if (row[row_count] != "") {
								$(document).find("#dispImg_"+total_question_no).attr('src',row[row_count]);
								$(document).find("#dispImg_"+total_question_no).css('margin-bottom', '10px');
								row_count += 1;
								$(document).find("#imageQues_"+total_question_no).next('.addImg').html(row[row_count]);
								$(document).find("#imageQues_"+total_question_no).next('.addImg').css("background-color","#b32b76");
								$(document).find("#imageQues_"+total_question_no).prev('.removeImg').prop("hidden", false);
								row_count += 1;
							} else {
								row_count += 1;
								row_count += 1;
							}
							$('#ques_list_item_'+total_question_no).find("#mc_correct_ans_"+row[row_count]+"_"+total_question_no).prop('checked', true);
							element.val(''); 
							$("#submit_button").prop('disabled', false);
						} else {
							element.val(''); 
							$('#txtFileErrorModal_message').html('The text file "'+fileName+'" does not follow the required format!');
							$('#txtFileErrorModal').modal('show');
							break;
						}
					} else if (row[0] == "true_false") {
						if (row.length == 5) {
							qtype = "true_false";
							$('#add_button').click();
							qtype = "txt_file";
							row_count = 1;
							$('#ques_list_item_'+total_question_no).find("textarea").each(function(){
								$(this).val(row[row_count]);
								row_count += 1;
							});
							if (row[row_count] != "") {
								$(document).find("#dispImg_"+total_question_no).attr('src',row[row_count]);
								$(document).find("#dispImg_"+total_question_no).css('margin-bottom', '10px');
								row_count += 1;
								$(document).find("#imageQues_"+total_question_no).next('.addImg').html(row[row_count]);
								$(document).find("#imageQues_"+total_question_no).next('.addImg').css("background-color","#b32b76");
								$(document).find("#imageQues_"+total_question_no).prev('.removeImg').prop("hidden", false);
								row_count += 1;
							} else {
								row_count += 1;
								row_count += 1;
							}
							$('#ques_list_item_'+total_question_no).find("#tf_correct_ans_"+row[row_count]+"_"+total_question_no).prop('checked', true);
							element.val(''); 
							$("#submit_button").prop('disabled', false);
						} else {
							element.val(''); 
							$('#txtFileErrorModal_message').html('The text file "'+fileName+'" does not follow the required format!');
							$('#txtFileErrorModal').modal('show');
							break;
						}
					} else if (row[0] == "short_ans") {
						if (row.length == 5) {
							qtype = "short_ans";
							$('#add_button').click();
							qtype = "txt_file";
							row_count = 1;
							$('#ques_list_item_'+total_question_no).find("textarea").each(function(){
								$(this).val(row[row_count]);
								row_count += 1;
							});
							if (row[row_count] != "") {
								$(document).find("#dispImg_"+total_question_no).attr('src',row[row_count]);
								$(document).find("#dispImg_"+total_question_no).css('margin-bottom', '10px');
								row_count += 1;
								$(document).find("#imageQues_"+total_question_no).next('.addImg').html(row[row_count]);
								$(document).find("#imageQues_"+total_question_no).next('.addImg').css("background-color","#b32b76");
								$(document).find("#imageQues_"+total_question_no).prev('.removeImg').prop("hidden", false);
								row_count += 1;
							} else {
								row_count += 1;
								row_count += 1;
							}
							element.val('');
							$("#submit_button").prop('disabled', false); 
						} else {
							element.val(''); 
							$('#txtFileErrorModal_message').html('The text file "'+fileName+'" does not follow the required format!');
							$('#txtFileErrorModal').modal('show');
							break;
						}
					} else if (row[0] == "essay") {
						if (row.length == 5) {
							qtype = "essay";
							$('#add_button').click();
							qtype = "txt_file";
							row_count = 1;
							$('#ques_list_item_'+total_question_no).find("textarea").each(function(){
								$(this).val(row[row_count]);
								row_count += 1;
							});
							if (row[row_count] != "") {
								$(document).find("#dispImg_"+total_question_no).attr('src',row[row_count]);
								$(document).find("#dispImg_"+total_question_no).css('margin-bottom', '10px');
								row_count += 1;
								$(document).find("#imageQues_"+total_question_no).next('.addImg').html(row[row_count]);
								$(document).find("#imageQues_"+total_question_no).next('.addImg').css("background-color","#b32b76");
								$(document).find("#imageQues_"+total_question_no).prev('.removeImg').prop("hidden", false);
								row_count += 1;
							} else {
								row_count += 1;
								row_count += 1;
							}
							element.val('');
							$("#submit_button").prop('disabled', false);
						} else {
							element.val(''); 
							$('#txtFileErrorModal_message').html('The text file "'+fileName+'" does not follow the required format!');
							$('#txtFileErrorModal').modal('show');
							break;
						}
					} else if (row[0] == "calc") {
						if (row.length == 10) {
							qtype = "calc";
							$('#add_button').click();
							qtype = "txt_file";
							row_count = 1;
							$('#ques_list_item_'+total_question_no).find("textarea").each(function(){
								$(this).val(row[row_count]);
								row_count += 1;
							});
							if (row[row_count] != "") {
								$(document).find("#dispImg_"+total_question_no).attr('src',row[row_count]);
								$(document).find("#dispImg_"+total_question_no).css('margin-bottom', '10px');
								row_count += 1;
								$(document).find("#imageQues_"+total_question_no).next('.addImg').html(row[row_count]);
								$(document).find("#imageQues_"+total_question_no).next('.addImg').css("background-color","#b32b76");
								$(document).find("#imageQues_"+total_question_no).prev('.removeImg').prop("hidden", false);
								row_count += 1;
							} else {
								row_count += 1;
								row_count += 1;
							}
							element.val('');
							$("#submit_button").prop('disabled', false);
						} else {
							element.val(''); 
							$('#txtFileErrorModal_message').html('The text file "'+fileName+'" does not follow the required format!');
							$('#txtFileErrorModal').modal('show');
							break;
						}
					} else if (row[0] == "calc_multi") {
						if (row.length == 11) {
							qtype = "calc_multi";
							$('#add_button').click();
							qtype = "txt_file";
							row_count = 1;
							$('#ques_list_item_'+total_question_no).find("textarea").each(function(){
								$(this).val(row[row_count]);
								row_count += 1;
							});
							if (row[row_count] != "") {
								$(document).find("#dispImg_"+total_question_no).attr('src',row[row_count]);
								$(document).find("#dispImg_"+total_question_no).css('margin-bottom', '10px');
								row_count += 1;
								$(document).find("#imageQues_"+total_question_no).next('.addImg').html(row[row_count]);
								$(document).find("#imageQues_"+total_question_no).next('.addImg').css("background-color","#b32b76");
								$(document).find("#imageQues_"+total_question_no).prev('.removeImg').prop("hidden", false);
								row_count += 1;
							} else {
								row_count += 1;
								row_count += 1;
							}
							element.val('');
							$("#submit_button").prop('disabled', false);
						} else {
							element.val(''); 
							$('#txtFileErrorModal_message').html('The text file "'+fileName+'" does not follow the required format!');
							$('#txtFileErrorModal').modal('show');
							break;
						}
					} else {
						element.val(''); 
						$('#txtFileErrorModal_message').html('The text file "'+fileName+'" does not follow the required format!');
						$('#txtFileErrorModal').modal('show');
						break;
					}
				}
				
				$(document).find("input[type=radio]").each(function(){
					if ($(this).is(':checked')){
						$(this).next('label').attr("hidden",false);
					} else {
						$(this).next('label').attr("hidden",true);
					}
				});
				
			}
			
			$(document).on('click', 'button.export', function(e) {
				toBeExported = $(this).parent().parent().parent().parent().parent().parent();
				toBeExported_type = toBeExported.find('input.quest_type').val();
				toBeExported_id = $(this).attr('id').slice($(this).attr('id').indexOf('_') + 1);
				file_content = "";
				file_content += toBeExported_type;
				toBeExported.find("textarea").each(function(){
					file_content += "|";
					file_content += $(this).val();
				});
				file_content += "|";
				file_status = toBeExported.find("img.dispImg").attr('src');
				if (file_status == ""){
					file_content += "|";
				} else {
					file_content += file_status;
					file_content += "|";
					file_content += toBeExported.find('button.addImg').html();
				}
				if (toBeExported_type == "multi_choice" || toBeExported_type=="true_false") {
					correct_ans_id_2 = "";	
					toBeExported.find("input[type=radio]").each(function(){
						if ($(this).is(':checked')){
							correct_ans_id_2 = $(this).attr('id');
						} 
					});
					file_content += "|";
					file_content += correct_ans_id_2.charAt(15);
				}
				const link = document.createElement("a");
				const file = new Blob([file_content], { type: 'text/plain' });
				link.href = URL.createObjectURL(file);
				link.download = "question_"+toBeExported_id+"_"+toBeExported_type+".txt";
				link.click();
				URL.revokeObjectURL(link.href);
			});
			
			$(document).on('change', '[id^=imageQues_]', function(e) {
				var fileName = this.files[0].name;
				var idxDot = fileName.lastIndexOf(".") + 1;
				var extFile = fileName.substr(idxDot, fileName.length).toLowerCase();
				if (extFile=="jpg" || extFile=="jpeg" || extFile=="png" || extFile=="gif"){
					$(this).next('.addImg').html(this.files[0].name);
					$(this).next('.addImg').css("background-color","#b32b76");
					$(this).prev('.removeImg').prop("hidden", false);
					var reader2 = new FileReader();
					var element2 = $(this);
					reader2.readAsDataURL(this.files[0]);
					reader2.onloadend = function () {
						element2.parent().siblings(".dispImg").attr('src', reader2.result);
						element2.parent().siblings(".dispImg").css('margin-bottom', '10px');
					};
				}else{
					$('#fileErrorModal').modal('toggle');
					$(this).val(''); 
					$(this).next('.addImg').html("Insert Image For Question");
					$(this).next('.addImg').css("background-color","rgba(0,85,151,1)");
					$(this).prev('.removeImg').prop("hidden", true);
					$(this).parent().siblings(".dispImg").attr('src', '');
					$(this).parent().siblings(".dispImg").css('margin-bottom', '0px');
				}
				$("#submit_button").prop('disabled', false);
			});
			
			$(document).on('click', '.removeImg', function(e) {
				$(this).next('input[type=file]').val('');
				$(this).parent().children(".addImg").html("Insert Image For Question");
				$(this).parent().children(".addImg").css("background-color","rgba(0,85,151,1)");
				$(this).parent().siblings(".dispImg").attr('src', '');
				$(this).parent().siblings(".dispImg").css('margin-bottom', '0px');
				$(this).prop("hidden", true);
				$("#submit_button").prop('disabled', false);
			});
			
			$(document).on('change keyup paste', 'textarea.formula', function(e) {
				text = $(this).val();
				if (text == "") {
					$(this).parent().siblings('div.col').children('div.card').children('span').html('&#92;[x=&#92;frac{&#92;sqrt{&#92;mathrm{b}}}{&#92;left(3&#92;cdot a&#92;right)}&#92;]');
					$(this).parent().siblings('div.col').children('div.card').children('span').css('color', 'white');
					
				} else {
					$(this).parent().siblings('div.col').children('div.card').children('span').html('&#92;['+math.parse(text).toTex()+'&#92;]');
				}
				MathJax.typeset();
			});
			
			$(document).on('change keyup paste', 'textarea.test_formula', function(e) {
				text = $(this).val();
				if (text == "") {
					$(this).parent().siblings('div.col-2').children('button.test_button').prop('disabled', true);
				} else {
					$(this).parent().siblings('div.col-2').children('button.test_button').prop('disabled', false);
				}
			});
			
			$(document).on('click', 'button.test_button', function(e) {
				$(this).parent().siblings('div.col-4').children('textarea').val('NaN');
				formula = $(this).parent().parent().siblings('div.row').children('div.col').children('textarea.formula').val();
				if (formula != "") {
					values = $(this).parent().siblings('div.col-6').children('textarea').val().replace(/\s/g,'').split(",");
					var parser = math.parser();
					for (var i = 0; i < values.length; i++) {
						values_split_by_equal = values[i].split("=");
						parser.set(values_split_by_equal[0], Number(values_split_by_equal[1]));
					}
					$(this).parent().siblings('div.col-4').children('textarea').val(parser.evaluate(formula));
					parser.clear();
				}
			});
			
			
			$(document).on('change keyup paste', '#search', function(e) {
				search_text = $(this).val();
				if (search_text == "") {
					$(document).find("input.quest_type").each(function(){
						$(this).parent().prop('hidden', false);
					});
				} else {
					$(document).find("input.quest_type").each(function(){
						exist = "N";
						$(this).parent().find("textarea").each(function(){
							if ($(this).val().includes(search_text)) {
								exist = "Y";
							}
						});
						if (exist == "Y") {
							$(this).parent().prop('hidden', false);
						} else {
							$(this).parent().prop('hidden', true);
						}
					});
				}
			});
			
			$('a.logout').on('click', function(e){
				localStorage.clear();
				window.location.replace('login.html');
			});

		});
	</script>
</head>

<body style="background: white; background-size: cover;">

	<div class="modal fade" id="txtFileErrorModal" tabindex="-1" aria-labelledby="exampleModalLabeltxt" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
		  <div class="modal-content" style="border-radius: 0px; border:0;">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabeltxt" style="font-size: 1.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; padding-top: 3px; padding-bottom: 3px; padding-left: 8px;">File Error</h5>
			  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="padding-top: 3px; padding-bottom: 3px; padding-right: 20px;"></button>
			</div>
			<div id="txtFileErrorModal_message" class="modal-body" style="font-size: 0.95rem; font-weight: 100; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;padding-left: 24px; color:#5b595f;"></div>
			<div class="modal-footer">
			  <button type="button" class="btn ps-4 pe-4 pt-2 pb-2" data-bs-dismiss="modal" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;">OK</button>
			</div>
		  </div>
		</div>
	  </div>

	<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered">
		<div class="modal-content" style="border-radius: 0px; border:0;">
		  <div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel" style="font-size: 1.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; padding-top: 3px; padding-bottom: 3px; padding-left: 8px;">Delete Confirmation</h5>
			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="padding-top: 3px; padding-bottom: 3px; padding-right: 20px;"></button>
		  </div>
		  <div id="delete_modal_message" class="modal-body" style="font-size: 0.95rem; font-weight: 100; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;padding-left: 24px; color:#5b595f;">
		  </div>
		  <div class="modal-footer">
			<button type="button" class="btn ps-4 pe-4 pt-2 pb-2" data-bs-dismiss="modal" id="delete_modal" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;">Yes</button>
		  </div>
		</div>
	  </div>
	</div>

	<div class="modal fade" id="calcErrorModal" tabindex="-1"  aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
		<div class="modal-dialog modal-dialog-centered">
		  <div class="modal-content" style="border-radius: 0px; border:0;">
			<div class="modal-header">
			  <h5 class="modal-title" id="calc_modal_title" style="font-size: 1.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; padding-top: 3px; padding-bottom: 3px; padding-left: 8px;"></h5>
			</div>
			<div id="calc_modal_message" class="modal-body" style="font-size: 0.95rem; font-weight: 100; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;padding-left: 24px; color:#5b595f;"></div>
			<div class="modal-footer">
			  <button type="button" class="btn ps-4 pe-4 pt-2 pb-2" data-bs-dismiss="modal" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;">OK</button>
			</div>
		  </div>
		</div>
	  </div>

	<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
		  <div class="modal-content" style="border-radius: 0px; border:0;">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabel" style="font-size: 1.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; padding-top: 3px; padding-bottom: 3px; padding-left: 8px;">Update Confirmation</h5>
			  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="padding-top: 3px; padding-bottom: 3px; padding-right: 20px;"></button>
			</div>
			<div id="modal_message" class="modal-body" style="font-size: 0.95rem; font-weight: 100; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;padding-left: 24px; color:#5b595f;">Are you sure you want to update the question bank with these changes?</div>
			<div class="modal-footer">
			  <button type="button" class="btn ps-4 pe-4 pt-2 pb-2" data-bs-dismiss="modal" id="confirm_button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;">Yes</button>
			</div>
		  </div>
		</div>
	  </div>
	  
	  <div class="modal fade" id="fileErrorModal" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
		  <div class="modal-content" style="border-radius: 0px; border:0;">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabel1" style="font-size: 1.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; padding-top: 3px; padding-bottom: 3px; padding-left: 8px;">File Error</h5>
			  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="padding-top: 3px; padding-bottom: 3px; padding-right: 20px;"></button>
			</div>
			<div id="modal_message" class="modal-body" style="font-size: 0.95rem; font-weight: 100; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;padding-left: 24px; color:#5b595f;">Only .png, .jpeg, .jpg and .gif file types are allowed!</div>
			<div class="modal-footer">
			  <button type="button" class="btn ps-4 pe-4 pt-2 pb-2" data-bs-dismiss="modal" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;">OK</button>
			</div>
		  </div>
		</div>
	  </div>
	  
	  <div class="modal fade" id="leaveModal" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
		<div class="modal-dialog modal-dialog-centered">
		  <div class="modal-content" style="border-radius: 0px; border:0;">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabel1" style="font-size: 1.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; padding-top: 3px; padding-bottom: 3px; padding-left: 8px;">Update Confirmation</h5>
			</div>
			<div id="leave_modal_message" class="modal-body" style="font-size: 0.95rem; font-weight: 100; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;padding-left: 24px; color:#5b595f;"></div>
			<div class="modal-footer">
			  <button type="button" class="btn ps-4 pe-4 pt-2 pb-2" id="leave_button" data-bs-dismiss="modal" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;">OK</button>
			</div>
		  </div>
		</div>
	  </div>
	  
	 <div class="modal fade" id="loadingModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
	  <div class="modal-dialog modal-dialog-centered">
		<div class="modal-content" style="margin: auto; width: auto; height: auto; border-radius: 0; border:0;">
		  <div class="modal-body">
			<img src="assets/images/loading.gif" style="height: 4rem;">
		  </div>
		</div>
	  </div>
	</div>
	  
	<div class="row" style="border-bottom: 1px solid #cfcfcf; background: white; padding-top: 2px; padding-bottom: 3px;">
		<div class="col" style="margin-top: auto; margin-bottom: auto; margin-left: 15px;">
			<img src="assets/images/nottingham-university-logo.jpeg" alt="University of Nottingham" style="height: 3.5rem;">
		</div>
		<div class="col-auto" style="margin-top: auto; margin-bottom: auto;">
			<i class="far fa-bell" style="color:#a5a5a5; font-size: 1rem;"></i>
		</div>
		<div class="col-auto" style="margin-top: auto; margin-bottom: auto;">
			<i class="far fa-comment" style="color:#a5a5a5; font-size: 1rem;"></i>
		</div>
		<div class="col-auto" style="text-align: right; margin-top: auto; margin-bottom: auto;">
			<i class="fas fa-user-circle" style="color:#792d85; font-size: 2.2rem;"></i>
		</div>
		<div class="col-auto" style="margin-top: auto; margin-bottom: auto; margin-right: 25px; margin-left: -15px">
			<i class="fas fa-chevron-down" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color:black; font-size: 0.6rem; cursor: pointer;" id="logout_arrow"></i>
			<ul class="dropdown-menu" aria-labelledby="logout_arrow" style="font-size: 1rem; line-height: 25px; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;">
				<li><a class="dropdown-item logout">Log out</a></li>
			</ul>
		</div>
	</div>
	<div class="row ms-4 me-4 mt-3 mb-2">
		<div class="card" style="height: auto; border: 1px solid #cfcfcf; border-radius: 0px;">
			<div class="row ms-2 mt-3 me-2 mb-0">
				<div class="col-auto p-0">
					<span class="fa-stack fa-2x">
					  <i class="fas fa-square-full fa-stack-1x" style="color:rgba(128,128,128,1); font-size: 3.3rem;"></i>
					  <i class="fas fa-warehouse fa-stack-1x" style="color:rgba(255,255,255,1); font-size: 1.3rem;"></i>
					</span>
				</div>
				<div class="col">
					<div class=""><span style="font-size: 2.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;">Question Bank<span></div>
				</div>
			</div>
			<div class="row ms-2 mt-2 me-2 mb-4">
				<div class="col">
					<div class=""><span style="font-size: 0.92rem; color:#1568ac; font-weight: 500; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; cursor: pointer;" onclick="location.href = 'dashboard.html';"><u>Dashboard</u></span><span style="font-size: 0.92rem; color:#5b595f; font-weight: 500;">&nbsp;&nbsp;>&nbsp;&nbsp;Question Bank</span></div>
				</div>
			</div>
		</div>
	</div>
	<div class="row ms-4 me-4 mt-3" style="margin-bottom: 100px;">
		<div class="card pb-4" style="height: auto; border: 1px solid #cfcfcf; border-radius: 0px;">
			<div class="row ms-2 mt-4 me-2 mb-2">
				<div class="col">
					<div class=""><span style="font-size: 0.95rem; color:rgb(0,0,0); font-weight: 500; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;">Select a question type to add.<span></div>
				</div>
			</div>
			<input type="file" id="txt_file_input" style="display:none" accept="text/plain" multiple>
			<div class="row ms-2 mt-1 me-2">
				<div class="col">
					<div class="dropdown">
					  <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" style="width: 100%; text-align: right; font-size: 0.9rem; border: 1px solid #bbbbbb; border-radius: 0px;">
						<span style="float:left; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; font-weight: 100;" id="qtype_text"><i class="fas fa-list-ul" style="font-size: 0.85rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Multiple Choice</span>
					  </button>
					  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" style="width: 100%; font-size: 0.9rem; line-height: 30px; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; border-radius: 0px;" id="qtype_menu">
						<li><h6 class="dropdown-header mb-1">Question Types</h6></li>
						<li><a class="dropdown-item active qtype_menu_item" id="multi_choice"><i class="fas fa-list-ul" style="font-size: 0.85rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Multiple Choice</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="true_false"><i class="fas fa-times-circle" style="font-size: 0.9rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;True/False</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="short_ans"><i class="fas fa-grip-lines" style="font-size: 0.85rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Short Answer</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="essay"><i class="fas fa-edit" style="font-size: 0.85rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Essay</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="calc"><i class="fas fa-calculator" style="font-size: 0.9rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Calculated</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="calc_multi"><i class="fas fa-sort-numeric-down" style="font-size: 0.9rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Calculated Multichoice</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="txt_file" style="color: gray;"><i class="fas fa-file-alt" style="font-size: 0.9rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Import From Text File</a></li>
					  </ul>
					</div>
				</div>
				<div class="col-auto">
				  <button type="button" class="btn" type="button" style="background-color:rgba(0,85,151,1); color: white; border-radius: 0px;" id="add_button"><i class="fas fa-plus" style="font-size: 0.9rem;"></i></button>
				</div>
				<div class="col-2" style="border-left: 1px solid #cfcfcf;">
					<input type="text" class="form-control" id="search" style="border: 1px solid #bbbbbb; border-radius: 0px; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; font-weight: 100;" placeholder="🔍︎   Search">
				</div>
			</div>
			<div id="question_list">
			</div>
		</div>	
	</div>
	<div id="bottom">
	<div class="row" style="border-top: 1px solid #cfcfcf; background: white; position: fixed; bottom: 0px; width: 101%; padding-left: 30px; padding-right: 30px;">
		<div class="col-auto">
		  <button disabled class="btn ps-4 pe-4 pt-2 pb-2 mt-3 mb-3" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;" id="submit_button">Update Bank</button>
		</div>
		<div class="col">
		  
		</div>
		<div class="col-auto">
		  <button class="btn ps-3 pe-3 pt-2 pb-2 mt-3 mb-3" type="button" style="background-color: white; color: #9c9c9c; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px; border: 1px solid #9c9c9c;" title="Go to bottom of page." onClick="document.getElementById('bottom').scrollIntoView();"><i class="fas fa-arrow-down" style="font-size: 1rem;"></i></button>
		</div>
	</div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
</body>

</html>
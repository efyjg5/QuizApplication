<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title></title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alata&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alatsi&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Andika+New+Basic&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Atkinson+Hyperlegible&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Barlow&amp;display=swap">
	<link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600,800,900" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
	<script src="assets/js/jquery.min.js"></script>
	<script type="text/javascript">
		$(document).ready( function () {
			
			var course_id = "ENG1";
			<!-- var quiz_id = "QZENG14"; -->

			var qtype = "multi_choice";
			var total_question_no = 0;
			
			$('.qtype_menu_item').on('click', function () {
				$("#qtype_menu").find(".qtype_menu_item").removeClass("active");
				$(this).addClass("active");
				qtype = $(this).attr('id');
				$("#qtype_text").html($(this).html());
			} );
			
			$('#add_button').on('click', function () {
				total_question_no += 1;
				$(document).find("#ques_remove").remove();
				if(qtype == "multi_choice"){
					$("#question_list").append('<div class="row" id="ques_list_item_'+total_question_no+'">'+
						'<input class="quest_type" type="hidden" value="'+qtype+'">'+
						'<div class="col ms-3 me-3 mt-2">'+
						'<hr style="color: #bbbbbb;">'+
						'<div class="row mt-4">'+
							'<div class="col-auto">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
									'<div class="row mb-2">'+
										'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span><span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Multiple Choice<span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span>'+
									'</div>'+
								'</div>'+
								'<div class="mt-3" style="text-align: center; cursor: pointer;" id="ques_remove_holder_'+total_question_no+'"><span style="font-size: 0.85rem; color: red; font-weight: 600; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" id="ques_remove"><i class="fas fa-minus-circle"></i>&nbsp;&nbsp;&nbsp;Remove</span></div>'+
							'</div>'+
							'<div class="col">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
									'<div class="col-auto">'+
										'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
										'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
										'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
									'</div>'+
									'<img class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
									'<label for="mc_question_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
									'<textarea class="form-control" id="mc_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
								'</div>'+
								'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="mc_ans_1_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">1st Answer Choice</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
											  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+total_question_no+'" id="mc_correct_ans_1_'+total_question_no+'" checked>'+
											  '<label class="form-check-label" for="mc_correct_ans_1_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+
												'Correct Answer'+
											  '</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-3" id="mc_ans_1_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="mc_ans_2_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">2nd Answer Choice</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
											  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+total_question_no+'" id="mc_correct_ans_2_'+total_question_no+'">'+
											  '<label class="form-check-label" for="mc_correct_ans_2_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
												'Correct Answer'+
											  '</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-3" id="mc_ans_2_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="mc_ans_3_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">3rd Answer Choice</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
											  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+total_question_no+'" id="mc_correct_ans_3_'+total_question_no+'">'+
											  '<label class="form-check-label" for="mc_correct_ans_3_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
												'Correct Answer'+
											  '</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-3" id="mc_ans_3_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="mc_ans_4_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">4th Answer Choice</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
											  '<input class="form-check-input" type="radio" name="mc_correct_radio_'+total_question_no+'" id="mc_correct_ans_4_'+total_question_no+'">'+
											  '<label class="form-check-label" for="mc_correct_ans_4_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden>'+
												'Correct Answer'+
											  '</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control" id="mc_ans_4_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
				'</div>');
				} else if (qtype == "true_false") {
					$("#question_list").append('<div class="row" id="ques_list_item_'+total_question_no+'">'+
					'<input class="quest_type" type="hidden" value="'+qtype+'">'+
					'<div class="col ms-3 me-3 mt-2">'+
						'<hr style="color: #bbbbbb;">'+
						'<div class="row mt-4">'+
							'<div class="col-auto">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
									'<div class="row mb-2">'+
										'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span><span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">True/False<span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
									'</div>'+
								'</div>'+
								'<div class="mt-3" style="text-align: center; cursor: pointer;" id="ques_remove_holder_'+total_question_no+'"><span style="font-size: 0.85rem; color: red; font-weight: 600; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" id="ques_remove"><i class="fas fa-minus-circle"></i>&nbsp;&nbsp;&nbsp;Remove</span></div>'+
							'</div>'+
							'<div class="col">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
									'<div class="col-auto">'+
										'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
										'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
										'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
									'</div>'+
									'<img class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
									'<label for="tf_question_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
									'<textarea class="form-control" id="tf_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
								'</div>'+
								'<div class="card shadow-none pt-3 pb-2 ps-4 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">True</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
												'<input class="form-check-input" type="radio" name="tf_correct_radio_'+total_question_no+'" id="tf_correct_ans_t_'+total_question_no+'" checked="">'+
												'<label class="form-check-label" for="tf_correct_ans_t_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Answer</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">False</label>'+
										'</div>'+
										'<div class="col">'+
											'<div class="form-check">'+
												'<input class="form-check-input" type="radio" name="tf_correct_radio_'+total_question_no+'" id="tf_correct_ans_f_'+total_question_no+'">'+
												'<label class="form-check-label" for="tf_correct_ans_f_'+total_question_no+'" style="font-size: 0.8rem; color: green; font-weight: 200; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" hidden="">Correct Answer</label>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
				'</div>');
				} else if (qtype == "short_ans"){
					$("#question_list").append('<div class="row" id="ques_list_item_'+total_question_no+'">'+
					'<input class="quest_type" type="hidden" value="'+qtype+'">'+
					'<div class="col ms-3 me-3 mt-2">'+
						'<hr style="color: #bbbbbb;">'+
						'<div class="row mt-4">'+
							'<div class="col-auto">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
									'<div class="row mb-2">'+
										'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span><span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Short Answer<span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
									'</div>'+
								'</div>'+
								'<div class="mt-3" style="text-align: center; cursor: pointer;" id="ques_remove_holder_'+total_question_no+'"><span style="font-size: 0.85rem; color: red; font-weight: 600; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" id="ques_remove"><i class="fas fa-minus-circle"></i>&nbsp;&nbsp;&nbsp;Remove</span></div>'+
							'</div>'+
							'<div class="col">'+
									'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
									'<div class="col-auto">'+
										'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
										'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
										'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
										'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
									'</div>'+
									'<img class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
									'<label for="sa_question_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
									'<textarea class="form-control" id="sa_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
								'</div>'+
								'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="sa_ans_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Answer</label>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-1" id="sa_ans_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="1"></textarea>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
				'</div>');
				} else if (qtype == "essay"){
					$("#question_list").append('<div class="row" id="ques_list_item_'+total_question_no+'">'+
					'<input class="quest_type" type="hidden" value="'+qtype+'">'+
					'<div class="col ms-3 me-3 mt-2">'+
						'<hr style="color: #bbbbbb;">'+
						'<div class="row mt-4">'+
							'<div class="col-auto">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #e5e5e5; background-color: #eeeeee; border-radius: 0px;">'+
									'<div class="row mb-2">'+
										'<span style="font-size: 1.1rem; color:#f69c5d; font-weight: 500; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Question <span style="font-weight: 700; color:#f9811c; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">'+total_question_no+'</span><span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Essay<span></span></span>'+
									'</div>'+
									'<div class="row">'+
										'<span style="font-size: 0.75rem; color:rgb(0,0,0); font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Marked out of 1.00.<span></span></span>'+
									'</div>'+
								'</div>'+
								'<div class="mt-3" style="text-align: center; cursor: pointer;" id="ques_remove_holder_'+total_question_no+'"><span style="font-size: 0.85rem; color: red; font-weight: 600; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" id="ques_remove"><i class="fas fa-minus-circle"></i>&nbsp;&nbsp;&nbsp;Remove</span></div>'+
							'</div>'+
							'<div class="col">'+
								'<div class="card shadow-none p-3" style="height: auto; border: 1px solid #ccecf5; background-color: #d9edf7; border-radius: 0px;">'+
								'<div class="col-auto">'+
									'<button class="btn ps-2 pe-1 pt-2 pb-2 mb-3 removeImg" hidden type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" title="Remove image"><i class="fas fa-trash-alt"></i></button>'+
									'<input type="file" id="imageQues_'+total_question_no+'" style="display:none" accept="image/*">'+
									'<button class="btn ps-3 pe-3 pt-2 pb-2 mb-3 addImg" type="button" style="background-color:rgba(0,85,151,1); color: white; font-weight: lighter; font-family: '+"'Trebuchet MS'"+', sans-serif; font-size: 0.92rem; border-radius: 0px;" onclick="document.getElementById('+"'imageQues_"+total_question_no+"'"+').click()">Insert Image For Question</button>'+
									'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">&nbsp;&nbsp;*optional</span>'+
								'</div>'+
									'<img class="dispImg" src="" style="max-height:200px; max-width:500px; height:auto; width:auto; object-fit: contain; object-position: left;">'+
									'<label for="essay_question_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Please write your question in the box below.</label>'+
									'<textarea class="form-control" id="essay_question_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="5"></textarea>'+
								'</div>'+
								'<div class="card shadow-none p-3 mt-3" style="height: auto; border: 1px solid #edf5e6; background-color: #dff0d8; border-radius: 0px;">'+
									'<div class="row">'+
										'<div class="col-auto">'+
											'<label for="essay_ans_'+total_question_no+'" class="form-label" style="font-size: 0.95rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;">Correct Keyword(s)</label>'+
										'</div>'+
									'</div>'+
									'<textarea class="form-control mb-2" id="essay_ans_'+total_question_no+'" style="font-size: 0.85rem; font-weight: 400; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; border-radius: 0px;" rows="2"></textarea>'+
									'<span style="font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; font-size: 0.85rem; color: red; font-style: italic;">*please separate each keyword with a "," symbol. 1 point will be divided by the number of keywords provided for each question.</span>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
				'</div>');
				}
			} );
			
			$(document).on('click', '#ques_remove', function(e) {
				$(document).find("#ques_list_item_"+total_question_no).remove();
				total_question_no -= 1;
				$(document).find("#ques_remove_holder_"+total_question_no).html('<span style="font-size: 0.85rem; color: red; font-weight: 600; font-family: '+"'Trebuchet MS'"+', Arial, Verdana, Helvetica, sans-serif;" id="ques_remove"><i class="fas fa-minus-circle"></i>&nbsp;&nbsp;&nbsp;Remove</span>');
				if (total_question_no == 0){
					$("#submit_button").prop('disabled', true);
				}
			});

			$(document).on('change', 'input[type=radio]', function(e) {
				$(document).find("input[type=radio]").each(function(){
					if ($(this).is(':checked')){
						$(this).next('label').attr("hidden",false);
					} else {
						$(this).next('label').attr("hidden",true);
					}
				});
			});
			
			$('#submit_button').on('click', function(e){
				$('#confirmModal').modal('toggle');
			});

			$('#confirm_button').on('click', function(e){
				for (let i = 1; i <= total_question_no; i++) {
					data1 = '{"course_id": "'+course_id+'", "quiz_id": "'+quiz_id+'", "q_id": '+i+', "q_type": "';
					quest_type = $(document).find("#ques_list_item_"+i).children(".quest_type").val();
					if ( quest_type == "multi_choice") {
						data1 += 'mc"}';
					} else if (quest_type == "true_false") {
						data1 += 'tf"}';
					} else if (quest_type == "short_ans") {
						data1 += 'sa"}';
					} else if (quest_type == "essay") {
						data1 += 'essay"}';
					}
					<!-- alert(data1); -->
					QuestionList(JSON.parse(data1));
					
					data2 = '{"course_id": "'+course_id+'", "quiz_id": "'+quiz_id+'", "q_id": "'+i+'", "question": "';
					if ( quest_type == "multi_choice") {
						ques = $(document).find("#mc_question_"+i).val();
						data2 += ques;
						data2 += '", "correct_ans_id": ';
						
						correct_ans_id = "";
						
						$("#ques_list_item_"+i).find("input[type=radio]").each(function(){
							if ($(this).is(':checked')){
								correct_ans_id = $(this).attr('id');
							} 
						});
						
						data2 += correct_ans_id.charAt(15);
						data2 += ', "image" : "';
						file_status = $(document).find("#imageQues_"+i).val();
						if (file_status == ""){
							data2 += '"}';
							mc_Questions(JSON.parse(data2));
						} else {
							getBase64($(document).find("#imageQues_"+i).prop('files')[0], data2, quest_type);
						}
						
						for (let j = 1; j <= 4; j++) {
							data3 = '{"course_id": "'+course_id+'", "quiz_id": "'+quiz_id+'", "q_id": '+i+', "ans_id": '+j+', "answer": "';
							ans = $(document).find("#mc_ans_"+j+"_"+i).val();
							data3 += ans;
							data3 += '"}';
							
							mc_Answers(JSON.parse(data3));
						}
					} else if (quest_type == "true_false") {
						ques = $(document).find("#tf_question_"+i).val();
						data2 += ques;
						data2 += '", "correct_ans_id": "';
						
						correct_ans_id = "";
						
						$("#ques_list_item_"+i).find("input[type=radio]").each(function(){
							if ($(this).is(':checked')){
								correct_ans_id = $(this).attr('id');
							} 
						});
						
						data2 += correct_ans_id.charAt(15);
						data2 += '", "image" : "';
						file_status = $(document).find("#imageQues_"+i).val();
						if (file_status == ""){
							data2 += '"}';
							tf_Questions(JSON.parse(data2));
						} else {
							getBase64($(document).find("#imageQues_"+i).prop('files')[0], data2, quest_type);
						}
					} else if (quest_type == "short_ans") {
						ques = $(document).find("#sa_question_"+i).val();
						data2 += ques;
						data2 += '", "correct_ans": "';
						ans = $(document).find("#sa_ans_"+i).val();
						data2 += ans.toLowerCase();
						data2 += '", "image" : "';
						file_status = $(document).find("#imageQues_"+i).val();
						if (file_status == ""){
							data2 += '"}';
							sa_Questions(JSON.parse(data2));
						} else {
							getBase64($(document).find("#imageQues_"+i).prop('files')[0], data2, quest_type);
						}
					} else if (quest_type == "essay") {
						ques = $(document).find("#essay_question_"+i).val();
						data2 += ques;
						data2 += '", "correct_keywords": "';
						ans = $(document).find("#essay_ans_"+i).val();
						data2 += ans.toLowerCase();
						data2 += '", "image" : "';
						file_status = $(document).find("#imageQues_"+i).val();
						if (file_status == ""){
							data2 += '"}';
							sa_Questions(JSON.parse(data2));
						} else {
							getBase64($(document).find("#imageQues_"+i).prop('files')[0], data2, quest_type);
						}
					}
				}
			});

			async function QuestionList(data) {
				const endpoint = '/data-api/rest/QuestionList/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				alert(JSON.stringify(result.value));
			}
			
			async function mc_Questions(data) {
				const endpoint = '/data-api/rest/mc_Questions/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				alert(JSON.stringify(result.value));
			}
			
			async function mc_Answers(data) {
				const endpoint = '/data-api/rest/mc_Answers/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				alert(JSON.stringify(result.value));
			}
			
			async function tf_Questions(data) {
				const endpoint = '/data-api/rest/tf_Questions/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				alert(JSON.stringify(result.value));
			}
			
			async function sa_Questions(data) {
				const endpoint = '/data-api/rest/sa_Questions/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				alert(JSON.stringify(result.value));
			}
			
			async function essay_Questions(data) {
				const endpoint = '/data-api/rest/essay_Questions/';
				const response = await fetch(endpoint, {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const result = await response.json();
				alert(JSON.stringify(result.value));
			}
			
			var quiz_id;

			async function get_quizid() {

				const endpoint = '/data-api/rest/QuestionList';
				const response = await fetch(endpoint);
				const data = await response.json();

				if (data.value == '') {
					quiz_id = 'QZ'+course_id.replace(/[0-9]/g,'')+"1";
				} else {
					quiz_id = 'QZ'+course_id.replace(/[0-9]/g,'')+"1";
					for (var i = data.value.length-1; i >= 0; i--) {
						course_quiz = data.value[i].quiz_id;
						if (course_quiz.substr(2, course_quiz.length).replace(/[0-9]/g,'') == course_id.replace(/[0-9]/g,'')) {
							quizid_string = course_quiz.replace(/\D/g,'');
							quiz_num = Number(quizid_string) + 1;
							quiz_id = 'QZ'+course_id.replace(/[0-9]/g,'')+quiz_num;
							break;
						}
					}
				}

				alert(quiz_id);

			}

			get_quizid();

			$(document).on('change keyup paste', 'textarea', function(e) {
				$("#submit_button").prop('disabled', false);
			});
			
			
			$(document).on('change', 'input[type=file]', function(e) {
				var fileName = this.files[0].name;
				var idxDot = fileName.lastIndexOf(".") + 1;
				var extFile = fileName.substr(idxDot, fileName.length).toLowerCase();
				if (extFile=="jpg" || extFile=="jpeg" || extFile=="png" || extFile=="gif"){
					$(this).next('.addImg').html(this.files[0].name);
					$(this).next('.addImg').css("background-color","#b32b76");
					$(this).prev('.removeImg').prop("hidden", false);
					var reader2 = new FileReader();
					var element2 = $(this);
					reader2.readAsDataURL(this.files[0]);
					reader2.onloadend = function () {
						element2.parent().siblings(".dispImg").attr('src', reader2.result);
						element2.parent().siblings(".dispImg").css('margin-bottom', '10px');
					};
				}else{
					$('#fileErrorModal').modal('toggle');
					$(this).val(''); 
					$(this).next('.addImg').html("Insert Image For Question");
					$(this).next('.addImg').css("background-color","rgba(0,85,151,1)");
					$(this).prev('.removeImg').prop("hidden", true);
					$(this).parent().siblings(".dispImg").attr('src', '');
					$(this).parent().siblings(".dispImg").css('margin-bottom', '0px');
				}  
			});
			
			$(document).on('click', '.removeImg', function(e) {
				$(this).next('input[type=file]').val('');
				$(this).parent().children(".addImg").html("Insert Image For Question");
				$(this).parent().children(".addImg").css("background-color","rgba(0,85,151,1)");
				$(this).parent().siblings(".dispImg").attr('src', '');
				$(this).parent().siblings(".dispImg").css('margin-bottom', '0px');
				$(this).prop("hidden", true);
			});
			
			function getBase64(file, data, quest_type) {
			   var reader = new FileReader();
			   reader.readAsDataURL(file);
			   reader.onloadend = function () {
					if(quest_type == "multi_choice") {
						data += reader.result;
						data += '"}';
						mc_Questions(JSON.parse(data));
					} else if (quest_type == "true_false") {
						data += reader.result;
						data += '"}';
						tf_Questions(JSON.parse(data));
					} else if (quest_type == "short_ans") {
						data += reader.result;
						data += '"}';
						sa_Questions(JSON.parse(data));
					} else if (quest_type == "essay") {
						data += reader.result;
						data += '"}';
						essay_Questions(JSON.parse(data));
					}
			   };
			   reader.onerror = function (error) {
				 console.log('Error: ', error);
			   };
			}
			
		} );
	</script>
</head>

<body style="background: white; background-size: cover; ">
	<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
		  <div class="modal-content" style="border-radius: 0px; border:0;">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabel" style="font-size: 1.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; padding-top: 3px; padding-bottom: 3px; padding-left: 8px;">Submit Confirmation</h5>
			  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="padding-top: 3px; padding-bottom: 3px; padding-right: 20px;"></button>
			</div>
			<div id="modal_message" class="modal-body" style="font-size: 0.95rem; font-weight: 100; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;padding-left: 24px; color:#5b595f;">Are you sure you want to upload the quiz?</div>
			<div class="modal-footer">
			  <button type="button" class="btn ps-4 pe-4 pt-2 pb-2" data-bs-dismiss="modal" id="confirm_button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;">Yes</button>
			</div>
		  </div>
		</div>
	  </div>
	  <div class="modal fade" id="fileErrorModal" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
		  <div class="modal-content" style="border-radius: 0px; border:0;">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabel1" style="font-size: 1.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; padding-top: 3px; padding-bottom: 3px; padding-left: 8px;">File Error</h5>
			  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="padding-top: 3px; padding-bottom: 3px; padding-right: 20px;"></button>
			</div>
			<div id="modal_message" class="modal-body" style="font-size: 0.95rem; font-weight: 100; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;padding-left: 24px; color:#5b595f;">Only .png, .jpeg, .jpg and .gif file types are allowed!</div>
			<div class="modal-footer">
			  <button type="button" class="btn ps-4 pe-4 pt-2 pb-2" data-bs-dismiss="modal" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;">OK</button>
			</div>
		  </div>
		</div>
	  </div>
	<div class="row" style="border-bottom: 1px solid #cfcfcf; background: white; padding-top: 2px; padding-bottom: 3px;">
		<div class="col" style="margin-top: auto; margin-bottom: auto; margin-left: 15px;">
			<img src="assets/images/nottingham-university-logo.jpeg" alt="University of Nottingham" style="height: 3.5rem;">
		</div>
		<div class="col-auto" style="margin-top: auto; margin-bottom: auto;">
			<i class="far fa-bell" style="color:#a5a5a5; font-size: 1rem;"></i>
		</div>
		<div class="col-auto" style="margin-top: auto; margin-bottom: auto;">
			<i class="far fa-comment" style="color:#a5a5a5; font-size: 1rem;"></i>
		</div>
		<div class="col-auto" style="text-align: right; margin-top: auto; margin-bottom: auto;">
			<i class="fas fa-user-circle" style="color:#792d85; font-size: 2.2rem;"></i>
		</div>
		<div class="col-auto" style="margin-top: auto; margin-bottom: auto; margin-right: 25px; margin-left: -15px">
			<i class="fas fa-chevron-down" style="color:black; font-size: 0.6rem;"></i>
		</div>
	</div>
	<div class="row ms-4 me-4 mt-3 mb-2">
		<div class="card" style="height: auto; border: 1px solid #cfcfcf; border-radius: 0px;">
			<div class="row ms-2 mt-3 me-2 mb-0">
				<div class="col-auto p-0">
					<span class="fa-stack fa-2x">
					  <i class="fas fa-square-full fa-stack-1x" style="color:rgba(0,85,151,0.2); font-size: 3.3rem;"></i>
					  <i class="fas fa-graduation-cap fa-stack-1x" style="color:rgba(0,85,151,1); font-size: 1.4rem;"></i>
					</span>
				</div>
				<div class="col">
					<div class=""><span style="font-size: 2.3rem; color:rgb(0,0,0); font-weight: 700; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;">Quiz Creator<span></div>
				</div>
			</div>
			<div class="row ms-2 mt-2 me-2 mb-4">
				<div class="col">
					<div class=""><span style="font-size: 0.92rem; color:#1568ac; font-weight: 500; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; cursor: pointer;" onclick="location.href = 'dashboard.html';"><u>Dashboard</u></span><span style="font-size: 0.92rem; color:#5b595f; font-weight: 500;">&nbsp;&nbsp;>&nbsp;&nbsp;Quiz Creator</span></div>
				</div>
			</div>
		</div>
	</div>
	<div class="row ms-4 me-4 mt-3 mb-2">
		<div class="card pb-4" style="height: auto; border: 1px solid #cfcfcf; border-radius: 0px;">
			<div class="row ms-2 mt-4 me-2 mb-2">
				<div class="col">
					<div class=""><span style="font-size: 0.95rem; color:rgb(0,0,0); font-weight: 500; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif;">Select a question type to add.<span></div>
				</div>
			</div>
			<div class="row ms-2 mt-1 me-2">
				<div class="col">
					<div class="dropdown">
					  <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" style="width: 100%; text-align: right; font-size: 0.9rem; border: 1px solid #bbbbbb; border-radius: 0px;">
						<span style="float:left; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; font-weight: 100;" id="qtype_text"><i class="fas fa-list-ul" style="font-size: 0.85rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Multiple Choice</span>
					  </button>
					  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" style="width: 100%; font-size: 0.9rem; line-height: 30px; font-family: 'Trebuchet MS', Arial, Verdana, Helvetica, sans-serif; font-weight: 100; border-radius: 0px;" id="qtype_menu">
						<li><h6 class="dropdown-header mb-1">Question Types</h6></li>
						<li><a class="dropdown-item active qtype_menu_item" id="multi_choice"><i class="fas fa-list-ul" style="font-size: 0.85rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Multiple Choice</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="true_false"><i class="fas fa-times-circle" style="font-size: 0.9rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;True/False</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="short_ans"><i class="fas fa-grip-lines" style="font-size: 0.85rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Short Answer</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="essay"><i class="fas fa-edit" style="font-size: 0.85rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Essay</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="calc"><i class="fas fa-calculator" style="font-size: 0.9rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Calculated</a></li>
						<li><a class="dropdown-item qtype_menu_item" id="calc_multi"><i class="fas fa-sort-numeric-down" style="font-size: 0.9rem;"></i>&nbsp;&nbsp;&nbsp;&nbsp;Calculated Multichoice</a></li>
					  </ul>
					</div>
				</div>
				<div class="col-auto">
				  <button type="button" class="btn" type="button" style="background-color:rgba(0,85,151,1); color: white; border-radius: 0px;" id="add_button"><i class="fas fa-plus" style="font-size: 0.9rem;"></i></button>
				</div>
			</div>
			<div id="question_list">
			</div>
			<hr style="color: #bbbbbb;">
			<div class="row ms-2 mt-1 me-2">
				<div class="col-auto">
				  <button disabled class="btn ps-4 pe-4 pt-2 pb-2" type="button" style="background-color:#b32b76; color: white; font-weight: lighter; font-family: 'Trebuchet MS', sans-serif; font-size: 0.92rem; border-radius: 0px;" id="submit_button">Submit</button>
				</div>
			</div>
		</div>	
	</div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
</body>

</html>